(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{Oc9j:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=function(){return function(){}}(),o=l("pMnS"),u=l("Ip0R"),c=l("oBZk"),a=l("ZZ/e"),s=l("6m4Z"),r=function(){function n(n,t,l){this.activeroute=n,this.el=t,this.native=l,this.type=0}return n.prototype.ngOnInit=function(){var n=this;setTimeout((function(){console.log(n.ewm.nativeElement)}),3e3),this.link=this.activeroute.snapshot.queryParams.link,this.links=["../../../assets/ewmbg/ewmbg1.jpg","../../../assets/ewmbg/ewmbj2.jpg"]},n.prototype.ionViewDidEnter=function(){this.createEwm(),this.setCanvas(),this.creatBj()},n.prototype.createEwm=function(){new QRCode(this.ewm.nativeElement,{text:this.link,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff"})},n.prototype.setCanvas=function(){this.context=this.canvas.nativeElement.getContext("2d"),this.width=this.bigbg.nativeElement.scrollWidth,this.height=this.bigbg.nativeElement.scrollHeight,this.canvas.nativeElement.width=this.width,this.canvas.nativeElement.height=this.height},n.prototype.creatBj=function(){var n=this;if(this.type===this.links.length-1)return this.creatMrewm(),!1;var t=new Image;t.src=this.links[this.type],t.onload=function(t){n.czhb(),n.context.drawImage(t.target,0,0,n.width,n.height),n.createewm(n.width-100,n.height-100,80,80)}},n.prototype.createewm=function(n,t,l,e){this.context.drawImage(this.getEwm(),n,t,l,e)},n.prototype.creatMrewm=function(){var n=this.width/2,t=(this.height-n)/2,l=n/2;this.czhb(),this.createewm(l,t,n,n)},n.prototype.getEwm=function(){return this.el.nativeElement.querySelector("#ewm img")},n.prototype.czhb=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.toggle=function(n){this.type=n,this.creatBj()},n.prototype.save=function(){var n=this.canvas.nativeElement.toDataURL("image/png");this.native.saveImage(n)},n}(),d=l("ZYCi"),p=e["ɵcrt"]({encapsulation:0,styles:[['.list[_ngcontent-%COMP%]{position:absolute;width:70px;height:auto;right:30px;top:30px}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%;position:relative;margin-bottom:20px;border:3px solid #fff9f9;opacity:.8}.list[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{opacity:1}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]::after{content:"";display:block;padding-top:100%}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.big-bg[_ngcontent-%COMP%]{width:100%;height:100%}#ewm[_ngcontent-%COMP%]{position:absolute;z-index:-1;top:0;left:0}.btn[_ngcontent-%COMP%]{width:80%;position:absolute;left:10%;height:auto;bottom:20px}']],data:{}});function m(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,4,"div",[["class","item"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggle(n.context.index)&&e),e}),null,null)),e["ɵprd"](512,null,u["ɵNgClassImpl"],u["ɵNgClassR2Impl"],[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2]),e["ɵdid"](2,278528,null,0,u.NgClass,[u["ɵNgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["ɵpod"](3,{active:0}),(n()(),e["ɵeld"](4,0,null,null,0,"img",[["alt",""],["srcset",""]],[[8,"src",4]],null,null,null,null))],(function(n,t){var l=n(t,3,0,t.component.type===t.context.index);n(t,2,0,"item",l)}),(function(n,t){n(t,4,0,t.context.$implicit)}))}function h(n){return e["ɵvid"](0,[e["ɵqud"](671088640,1,{ewm:0}),e["ɵqud"](671088640,2,{canvas:0}),e["ɵqud"](671088640,3,{bigbg:0}),(n()(),e["ɵeld"](3,0,null,null,11,"ion-header",[],null,null,null,c.vb,c.s)),e["ɵdid"](4,49152,null,0,a.D,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](5,0,null,0,9,"ion-toolbar",[],null,null,null,c.fc,c.cb)),e["ɵdid"](6,49152,null,0,a.Eb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.jb,c.g)),e["ɵdid"](8,49152,null,0,a.n,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](9,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e["ɵnov"](n,11).onClick(l)&&i),i}),c.fb,c.c)),e["ɵdid"](10,49152,null,0,a.i,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),e["ɵdid"](11,16384,null,0,a.j,[[2,a.kb],a.Kb],null,null),(n()(),e["ɵeld"](12,0,null,0,2,"ion-title",[],null,null,null,c.dc,c.ab)),e["ɵdid"](13,49152,null,0,a.Cb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵted"](-1,0,["二维码"])),(n()(),e["ɵeld"](15,0,null,null,11,"ion-content",[],null,null,null,c.rb,c.o)),e["ɵdid"](16,49152,null,0,a.w,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](17,0,null,0,2,"div",[["class","list"]],null,null,null,null,null)),(n()(),e["ɵand"](16777216,null,null,1,null,m)),e["ɵdid"](19,278528,null,0,u.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["ɵeld"](20,0,[[3,0],["bigbg",1]],0,1,"div",[["class","big-bg"]],null,null,null,null,null)),(n()(),e["ɵeld"](21,0,[[2,0],["canvas",1]],null,0,"canvas",[],null,null,null,null,null)),(n()(),e["ɵeld"](22,0,[[1,0],["ewm",1]],0,0,"div",[["id","ewm"]],null,null,null,null,null)),(n()(),e["ɵeld"](23,0,null,0,3,"div",[["class","btn"]],null,null,null,null,null)),(n()(),e["ɵeld"](24,0,null,null,2,"ion-button",[["expand","block"],["shape","round"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.save()&&e),e}),c.ib,c.f)),e["ɵdid"](25,49152,null,0,a.m,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{expand:[0,"expand"],shape:[1,"shape"]},null),(n()(),e["ɵted"](-1,0,[" 保存 "]))],(function(n,t){n(t,19,0,t.component.links),n(t,25,0,"block","round")}),null)}function g(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,1,"app-myewm",[],null,null,null,h,p)),e["ɵdid"](1,114688,null,0,r,[d.a,e.ElementRef,s.a],null,null)],(function(n,t){n(t,1,0)}),null)}var f=e["ɵccf"]("app-myewm",r,g,{},{},[]),b=l("gIcY"),v=function(){return function(){}}();l.d(t,"MyewmPageModuleNgFactory",(function(){return w}));var w=e["ɵcmf"](i,[],(function(n){return e["ɵmod"]([e["ɵmpd"](512,e.ComponentFactoryResolver,e["ɵCodegenComponentFactoryResolver"],[[8,[o.a,f]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["ɵmpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[e.LOCALE_ID,[2,u["ɵangular_packages_common_common_a"]]]),e["ɵmpd"](4608,b.s,b.s,[]),e["ɵmpd"](4608,a.c,a.c,[e.NgZone,e.ApplicationRef]),e["ɵmpd"](4608,a.Jb,a.Jb,[a.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](4608,a.Nb,a.Nb,[a.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](1073742336,u.CommonModule,u.CommonModule,[]),e["ɵmpd"](1073742336,b.r,b.r,[]),e["ɵmpd"](1073742336,b.d,b.d,[]),e["ɵmpd"](1073742336,a.Gb,a.Gb,[]),e["ɵmpd"](1073742336,d.p,d.p,[[2,d.u],[2,d.n]]),e["ɵmpd"](1073742336,v,v,[]),e["ɵmpd"](1073742336,i,i,[]),e["ɵmpd"](1024,d.l,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);