{"version":3,"sources":["webpack:///./src/app/pages/userlist/userlist.module.ts","webpack:///./src/app/pages/userlist/userlist.page.html","webpack:///./src/app/pages/userlist/userlist.page.scss","webpack:///./src/app/pages/userlist/userlist.page.ts"],"names":[],"mappings":"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","file":"pages-userlist-userlist-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserlistPage } from './userlist.page';\nimport {PipesModule} from \"../../pipes/pipes.module\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserlistPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UserlistPage]\n})\nexport class UserlistPageModule {}\n","module.exports = \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon mode=\\\"ios\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{type === 1 ? '关注的人' : '粉丝列表'}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n       pullingIcon=\\\"arrow-dropdown\\\"\\n       pullingText=\\\"Pull to refresh\\\"\\n       refreshingSpinner=\\\"circles\\\"\\n       refreshingText=\\\"更新中...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of list\\\" [button]=\\\"true\\\" mode=\\\"ios\\\" (click)=\\\"open(item.user_id)\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img [src]=\\\"item.headimg  | imgsrc: http.domain\\\">\\n      </ion-avatar>\\n      <ion-label>{{item.user_name}}\\n        <p><ion-text color=\\\"success\\\">LV.{{item.user_rank}}</ion-text>&nbsp;&nbsp;<ion-text color=\\\"primary\\\">{{item.lxdj}}</ion-text></p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n       loadingSpinner=\\\"bubbles\\\"\\n       loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXJsaXN0L3VzZXJsaXN0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {NavController, IonInfiniteScroll} from \"@ionic/angular\";\nimport {HttpService} from \"../../services/http.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-userlist',\n  templateUrl: './userlist.page.html',\n  styleUrls: ['./userlist.page.scss'],\n})\nexport class UserlistPage implements OnInit {\n  type: number;\n  userId: string;\n  page: number;\n  limit: number;\n  list: object[];\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  constructor(private nav: NavController, private http: HttpService,\n              private activeroute: ActivatedRoute, private route: Router) { }\n\n  ngOnInit() {\n    const params = this.activeroute.snapshot.queryParams;\n    this.type = Number(params['type']) || 1;\n    this.userId = params['userId'] || '';\n    this.page = 0;\n    this.limit = 20;\n    this.list = [];\n  }\n  goBack(): void {\n    this.nav.back();\n  }\n  ionViewWillEnter() {\n    this.getList();\n  }\n  doRefresh(event) {\n    this.page = 0;\n    this.infiniteScroll.disabled = false;\n    this.getList(event);\n  }\n  loadData(event) {\n    this.page++;\n    this.getList(event, 1);\n  }\n  getList(event?, type?) {\n    let link = this.http.getGzlist;\n    // if (this.type !== 1) {\n    //   link = this.http.getFslist;\n    // }\n    const obj = {\n      page: this.page,\n      limit: this.limit,\n      userId: this.userId,\n      type: this.type\n    }\n    this.http.postformdata(link, obj).subscribe(res => {\n      if (event) {\n        event.target.complete();\n      }\n      if (this.page === 0) {\n        this.list.length = 0;\n      }\n      this.list.push(...res.data);\n      if (event && type && res.data.length < this.limit) {\n        this.infiniteScroll.disabled = true;\n      }\n    }, error2 => {\n      if (event) {\n        event.target.complete();\n      }\n\n    })\n  }\n  open(id) {\n    this.route.navigate(['/myrelease'], {queryParams: {userid: id}});\n  }\n}\n"],"sourceRoot":""}