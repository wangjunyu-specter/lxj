{"version":3,"sources":["webpack:///./src/app/pages/post-comment/post-comment.module.ts","webpack:///./src/app/pages/post-comment/post-comment.page.html","webpack:///./src/app/pages/post-comment/post-comment.page.scss","webpack:///./src/app/pages/post-comment/post-comment.page.ts"],"names":[],"mappings":"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","file":"pages-post-comment-post-comment-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PostCommentPage } from './post-comment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostCommentPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PostCommentPage]\n})\nexport class PostCommentPageModule {}\n","module.exports = \"<!--\\n * @Author: wjy-mac\\n * @Date: 2019-11-01 15:49:39\\n * @LastEditors: wjy-mac\\n * @LastEditTime: 2019-11-05 17:41:15\\n * @Description: 发布评论\\n -->\\n<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon mode=\\\"ios\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>发布评论</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"sub()\\\" [disabled]=\\\"isupdate && isupdate.length > 0\\\">\\n        发布\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"my-list\\\">\\n    <div class=\\\"my-item\\\" *ngFor=\\\"let item of pflist; let key = index\\\" [ngClass]=\\\"{hidden: isxc && key > 0}\\\">\\n      <div class=\\\"top\\\">\\n        <div class=\\\"left\\\">\\n          {{item.name}}\\n        </div>\\n        <div class=\\\"right\\\">\\n          <img *ngFor=\\\"let data of imglist; let i = index\\\" \\n          [src]=\\\"item.val >= i + 1 ? '../../../assets/icon/branch_active.png' : '../../../assets/icon/branch.png'\\\"\\n          (click)=\\\"setPf(key, i + 1)\\\"\\n          alt=\\\"\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"des\\\">\\n        <span *ngIf=\\\"item.val == 5\\\">5分,非常满意</span>\\n        <span *ngIf=\\\"item.val == 4\\\">4分,满意</span>\\n        <span *ngIf=\\\"item.val == 3\\\">3分,一般</span>\\n        <span *ngIf=\\\"item.val == 2\\\">2分,不满意</span>\\n        <span *ngIf=\\\"item.val == 1\\\">1分,非常不满意</span>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"line\\\"></div>\\n  <div class=\\\"goods_list\\\">\\n    <div class=\\\"pl-item\\\" *ngFor=\\\"let item of goodsObjarr; let goodsindex = index\\\">\\n      <div class=\\\"goods_name\\\"><p>{{item.goodsName}}</p></div>\\n      <div class=\\\"my-list\\\">\\n        <div class=\\\"my-item\\\">\\n          <div class=\\\"top\\\">\\n            <div class=\\\"left\\\">\\n              描述\\n            </div>\\n            <div class=\\\"right\\\">\\n              <img *ngFor=\\\"let data of imglist; let i = index\\\" \\n              [src]=\\\"item.comment_rank >= i + 1 ? '../../../assets/icon/branch_active.png' : '../../../assets/icon/branch.png'\\\"\\n              (click)=\\\"setitemPf(item, i + 1)\\\"\\n              alt=\\\"\\\">\\n            </div>\\n          </div>\\n          <div class=\\\"des\\\">\\n            <span *ngIf=\\\"item.comment_rank == 5\\\">5分,非常满意</span>\\n            <span *ngIf=\\\"item.comment_rank == 4\\\">4分,满意</span>\\n            <span *ngIf=\\\"item.comment_rank == 3\\\">3分,一般</span>\\n            <span *ngIf=\\\"item.comment_rank == 2\\\">2分,不满意</span>\\n            <span *ngIf=\\\"item.comment_rank == 1\\\">1分,非常不满意</span>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"hasbq\\\">\\n        <ion-chip *ngFor=\\\"let tag of item.tags; let i = index\\\" [color]=\\\"tag.active ? 'success' : ''\\\" (click)=\\\"setChangebq(item, i)\\\">\\n          <ion-label>{{tag.tag_name}}</ion-label>\\n        </ion-chip>\\n      </div>\\n      <div class=\\\"my-row\\\" [ngClass]=\\\"{noTop: item.tags.length === 0}\\\">\\n          <div class=\\\"my-item\\\" *ngFor=\\\"let data of item['tags_zi']; let i = index\\\" (click)=\\\"removeBq(i, item)\\\">\\n            <ion-chip color=\\\"success\\\">\\n              <ion-label>{{data}}</ion-label>\\n              <ion-icon name=\\\"close-circle\\\"></ion-icon>\\n            </ion-chip>\\n          </div>\\n        </div>\\n      <div class=\\\"addbq-box\\\">\\n        <div class=\\\"left\\\">\\n          <ion-item>\\n            <ion-label>标签</ion-label>\\n            <ion-input [(ngModel)]=\\\"item.newbq\\\" placeholder=\\\"请输入自定义标签名称\\\"></ion-input>\\n          </ion-item>\\n        </div>\\n        <div class=\\\"right\\\" *ngIf=\\\"item.newbq\\\">\\n          <ion-button color=\\\"success\\\" size=\\\"small\\\" (click)=\\\"addBq(item)\\\">确定</ion-button>\\n        </div>\\n      </div>\\n      <ion-item>\\n        <ion-textarea rows=\\\"4\\\" [(ngModel)]=\\\"item.content\\\" placeholder=\\\"说说你的看法吧\\\"></ion-textarea>\\n      </ion-item>\\n      <ion-row margin-top margin-bottom>\\n        <ion-col size=\\\"3\\\">\\n          <div class=\\\"img-box\\\" (click)=\\\"selecteImgs(goodsindex, 6 - (imgs[goodsindex] ? imgs[goodsindex].length : 0))\\\" *ngIf=\\\"!(imgs[goodsindex] && imgs[goodsindex].length === 6)\\\">\\n            <img src=\\\"../../../assets/add2.png\\\" alt=\\\"\\\">\\n          </div>\\n          <div class=\\\"img-box\\\" *ngFor=\\\"let src of imgs[goodsindex]; let imgindex = index;\\\">\\n            <img [src]=\\\"src\\\" alt=\\\"\\\">\\n            <div class=\\\"loadEffect\\\" *ngIf=\\\"!item.imgs[imgindex]\\\">\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n              <span></span>\\n            </div>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </div>\\n  </div>\\n  <div class=\\\"nmbox\\\">\\n    <ion-toggle color=\\\"success\\\" size=\\\"small\\\" [(ngModel)]=\\\"isNm\\\"></ion-toggle><ion-text>匿名</ion-text>\\n  </div>\\n</ion-content>\\n\"","module.exports = \".my-list .my-item {\\n  margin-bottom: 10px; }\\n  .my-list .my-item .top {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-start;\\n    align-items: center; }\\n  .my-list .my-item .top .left {\\n      width: 40px;\\n      font-size: var(--ion-text); }\\n  .my-list .my-item .top .right {\\n      flex: 1;\\n      display: flex;\\n      flex-direction: row;\\n      justify-content: flex-start;\\n      align-items: center; }\\n  .my-list .my-item .top .right img {\\n        width: 20px;\\n        margin-right: 5px; }\\n  .my-list .my-item .des {\\n    font-size: var(--ion-sm-text);\\n    color: var(--ion-color-medium);\\n    margin-top: 5px; }\\n  .addbq-box {\\n  font-size: var(--ion-text);\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center; }\\n  .addbq-box .left {\\n    flex: 1; }\\n  .addbq-box .right {\\n    width: auto; }\\n  .my-row {\\n  padding-top: 10px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-wrap: wrap; }\\n  .my-row.noTop {\\n    padding-top: 0; }\\n  .goods_list {\\n  margin-bottom: 10px; }\\n  .goods_list .pl-item {\\n    border-bottom: 10px solid var(--ion-gray-background-color); }\\n  .goods_list .goods_name {\\n    font-size: var(--ion-title); }\\n  .goods_list .goods_name p {\\n      margin-bottom: 5px; }\\n  .hasbq {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-wrap: wrap; }\\n  .nmbox {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center; }\\n  .nmbox ion-text {\\n    margin-left: 10px; }\\n  .line {\\n  height: 10px;\\n  background-color: var(--ion-gray-background-color); }\\n  .img-box {\\n  width: 100%;\\n  padding-top: 100%;\\n  position: relative; }\\n  .img-box img {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0; }\\n  .hidden {\\n  display: none; }\\n  .loadEffect {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  background-color: rgba(0, 0, 0, 0.3); }\\n  .loadEffect span {\\n  display: inline-block;\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 50%;\\n  background: var(--ion-color-success);\\n  position: absolute;\\n  -webkit-animation: load 1.04s ease infinite; }\\n  .loadEffect span:nth-child(1) {\\n  left: 0;\\n  top: 50%;\\n  margin-top: -10px;\\n  -webkit-animation-delay: 0.13s; }\\n  .loadEffect span:nth-child(2) {\\n  left: 14px;\\n  top: 14px;\\n  -webkit-animation-delay: 0.26s; }\\n  .loadEffect span:nth-child(3) {\\n  left: 50%;\\n  top: 0;\\n  margin-left: -10px;\\n  -webkit-animation-delay: 0.39s; }\\n  .loadEffect span:nth-child(4) {\\n  top: 14px;\\n  right: 14px;\\n  -webkit-animation-delay: 0.52s; }\\n  .loadEffect span:nth-child(5) {\\n  right: 0;\\n  top: 50%;\\n  margin-top: -10px;\\n  -webkit-animation-delay: 0.65s; }\\n  .loadEffect span:nth-child(6) {\\n  right: 14px;\\n  bottom: 14px;\\n  -webkit-animation-delay: 0.78s; }\\n  .loadEffect span:nth-child(7) {\\n  bottom: 0;\\n  left: 50%;\\n  margin-left: -10px;\\n  -webkit-animation-delay: 0.91s; }\\n  .loadEffect span:nth-child(8) {\\n  bottom: 14px;\\n  left: 14px;\\n  -webkit-animation-delay: 1.04s; }\\n  @-webkit-keyframes load {\\n  0% {\\n    -webkit-transform: scale(1.2);\\n    opacity: 1; }\\n  100% {\\n    -webkit-transform: scale(0.3);\\n    opacity: 0.5; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93ankvRGVza3RvcC9seGovc3JjL2FwcC9wYWdlcy9wb3N0LWNvbW1lbnQvcG9zdC1jb21tZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLG1CQUFtQixFQUFBO0VBRnZCO0lBSU0sYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiwyQkFBMkI7SUFDM0IsbUJBQW1CLEVBQUE7RUFQekI7TUFTUSxXQUFXO01BQ1gsMEJBQTBCLEVBQUE7RUFWbEM7TUFhUSxPQUFPO01BQ1AsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQiwyQkFBMkI7TUFDM0IsbUJBQW1CLEVBQUE7RUFqQjNCO1FBbUJVLFdBQVc7UUFDWCxpQkFBaUIsRUFBQTtFQXBCM0I7SUF5Qk0sNkJBQTZCO0lBQzdCLDhCQUErQjtJQUMvQixlQUFlLEVBQUE7RUFJckI7RUFDRSwwQkFBMEI7RUFDMUIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiwyQkFBMkI7RUFDM0IsbUJBQW1CLEVBQUE7RUFMckI7SUFPSSxPQUFPLEVBQUE7RUFQWDtJQVVJLFdBQVcsRUFBQTtFQUdmO0VBQ0UsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsMkJBQTJCO0VBQzNCLG1CQUFtQjtFQUNuQixlQUFlLEVBQUE7RUFOakI7SUFRSSxjQUFjLEVBQUE7RUFHbEI7RUFDRSxtQkFBbUIsRUFBQTtFQURyQjtJQUdJLDBEQUEwRCxFQUFBO0VBSDlEO0lBTUksMkJBQTJCLEVBQUE7RUFOL0I7TUFRTSxrQkFBa0IsRUFBQTtFQUl4QjtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsMkJBQTJCO0VBQzNCLG1CQUFtQjtFQUNuQixlQUFlLEVBQUE7RUFFakI7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDJCQUEyQjtFQUMzQixtQkFBbUIsRUFBQTtFQUpyQjtJQU1JLGlCQUFpQixFQUFBO0VBR3JCO0VBQ0UsWUFBWTtFQUNaLGtEQUFrRCxFQUFBO0VBRXBEO0VBQ0UsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQTtFQUhwQjtJQUtJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPLEVBQUE7RUFHWDtFQUNFLGFBQWEsRUFBQTtFQUVmO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxvQ0FBaUMsRUFBQTtFQUVuQztFQUNFLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixvQ0FBb0M7RUFDcEMsa0JBQWtCO0VBQ2xCLDJDQUEyQyxFQUFBO0VBRTdDO0VBQ0UsT0FBTztFQUNQLFFBQVE7RUFDUixpQkFBZ0I7RUFDaEIsOEJBQTZCLEVBQUE7RUFFL0I7RUFDRSxVQUFVO0VBQ1YsU0FBUztFQUNULDhCQUE2QixFQUFBO0VBRS9CO0VBQ0UsU0FBUztFQUNULE1BQU07RUFDTixrQkFBa0I7RUFDbEIsOEJBQTZCLEVBQUE7RUFFL0I7RUFDRSxTQUFTO0VBQ1QsV0FBVTtFQUNWLDhCQUE2QixFQUFBO0VBRS9CO0VBQ0UsUUFBUTtFQUNSLFFBQVE7RUFDUixpQkFBZ0I7RUFDaEIsOEJBQTZCLEVBQUE7RUFFL0I7RUFDRSxXQUFXO0VBQ1gsWUFBVztFQUNYLDhCQUE2QixFQUFBO0VBRS9CO0VBQ0UsU0FBUztFQUNULFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsOEJBQTZCLEVBQUE7RUFFL0I7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLDhCQUE2QixFQUFBO0VBRS9CO0VBQ0U7SUFDSSw2QkFBNkI7SUFDN0IsVUFBVSxFQUFBO0VBRWQ7SUFDSSw2QkFBNEI7SUFDNUIsWUFBWSxFQUFBLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3N0LWNvbW1lbnQvcG9zdC1jb21tZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5teS1saXN0IHtcbiAgLm15LWl0ZW0ge1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgLnRvcCB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAubGVmdCB7XG4gICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWlvbi10ZXh0KTtcbiAgICAgIH1cbiAgICAgIC5yaWdodCB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgaW1nIHtcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAuZGVzIHtcbiAgICAgIGZvbnQtc2l6ZTogdmFyKC0taW9uLXNtLXRleHQpO1xuICAgICAgY29sb3I6ICB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcbiAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICB9XG4gIH1cbn1cbi5hZGRicS1ib3gge1xuICBmb250LXNpemU6IHZhcigtLWlvbi10ZXh0KTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAubGVmdCB7XG4gICAgZmxleDogMTtcbiAgfVxuICAucmlnaHQge1xuICAgIHdpZHRoOiBhdXRvO1xuICB9XG59XG4ubXktcm93IHtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC13cmFwOiB3cmFwO1xuICAmLm5vVG9wIHtcbiAgICBwYWRkaW5nLXRvcDogMDtcbiAgfVxufVxuLmdvb2RzX2xpc3Qge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAucGwtaXRlbSB7XG4gICAgYm9yZGVyLWJvdHRvbTogMTBweCBzb2xpZCB2YXIoLS1pb24tZ3JheS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgfVxuICAuZ29vZHNfbmFtZSB7XG4gICAgZm9udC1zaXplOiB2YXIoLS1pb24tdGl0bGUpO1xuICAgIHAge1xuICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgIH1cbiAgfVxufVxuLmhhc2JxIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG4ubm1ib3gge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGlvbi10ZXh0IHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgfVxufVxuLmxpbmUge1xuICBoZWlnaHQ6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1ncmF5LWJhY2tncm91bmQtY29sb3IpO1xufVxuLmltZy1ib3gge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZy10b3A6IDEwMCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaW1nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICB9XG59XG4uaGlkZGVuIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbi5sb2FkRWZmZWN0e1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwgLjMpO1xufVxuLmxvYWRFZmZlY3Qgc3BhbntcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICAtd2Via2l0LWFuaW1hdGlvbjogbG9hZCAxLjA0cyBlYXNlIGluZmluaXRlO1xufVxuLmxvYWRFZmZlY3Qgc3BhbjpudGgtY2hpbGQoMSl7XG4gIGxlZnQ6IDA7XG4gIHRvcDogNTAlO1xuICBtYXJnaW4tdG9wOi0xMHB4O1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTowLjEzcztcbn1cbi5sb2FkRWZmZWN0IHNwYW46bnRoLWNoaWxkKDIpe1xuICBsZWZ0OiAxNHB4O1xuICB0b3A6IDE0cHg7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OjAuMjZzO1xufVxuLmxvYWRFZmZlY3Qgc3BhbjpudGgtY2hpbGQoMyl7XG4gIGxlZnQ6IDUwJTtcbiAgdG9wOiAwO1xuICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OjAuMzlzO1xufVxuLmxvYWRFZmZlY3Qgc3BhbjpudGgtY2hpbGQoNCl7XG4gIHRvcDogMTRweDtcbiAgcmlnaHQ6MTRweDtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6MC41MnM7XG59XG4ubG9hZEVmZmVjdCBzcGFuOm50aC1jaGlsZCg1KXtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICBtYXJnaW4tdG9wOi0xMHB4O1xuICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTowLjY1cztcbn1cbi5sb2FkRWZmZWN0IHNwYW46bnRoLWNoaWxkKDYpe1xuICByaWdodDogMTRweDtcbiAgYm90dG9tOjE0cHg7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OjAuNzhzO1xufVxuLmxvYWRFZmZlY3Qgc3BhbjpudGgtY2hpbGQoNyl7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OjAuOTFzO1xufVxuLmxvYWRFZmZlY3Qgc3BhbjpudGgtY2hpbGQoOCl7XG4gIGJvdHRvbTogMTRweDtcbiAgbGVmdDogMTRweDtcbiAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6MS4wNHM7XG59XG5ALXdlYmtpdC1rZXlmcmFtZXMgbG9hZHtcbiAgMCV7XG4gICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAgICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgMTAwJXtcbiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSguMyk7XG4gICAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbn0iXX0= */\"","/*\n * @Author: wjy-mac\n * @Date: 2019-11-01 15:49:39\n * @LastEditors: wjy-mac\n * @LastEditTime: 2019-11-05 17:41:50\n * @Description: file content\n */\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, ActionSheetController } from '@ionic/angular';\nimport { HttpService } from 'src/app/services/http.service';\nimport { NativeService } from 'src/app/services/native.service';\nimport { OrderlistService } from 'src/app/services/orderlist.service';\nimport { XclistService } from 'src/app/services/xclist.service';\n\n@Component({\n  selector: 'app-post-comment',\n  templateUrl: './post-comment.page.html',\n  styleUrls: ['./post-comment.page.scss'],\n})\nexport class PostCommentPage implements OnInit {\n  imglist: number[]; // 评分图标循环，只是为了要一个5个值得数组\n  pflist: any[]; // 平分对象列表\n  newbq: string;\n  orderId: string; // 订单id\n  goodsObjarr: object[]; // 评论商品对象列表\n  isNm: boolean; // 是否匿名\n  orderSn: string;\n  isxc: boolean;\n  imgs: any[]; // 评论图片列表，二维数组，第一层表示哪个商品对象\n  isupdate: number[]; // 上传对象，有数据表示还在上传\n  constructor(private activeroute: ActivatedRoute, private nav: NavController,\n    private http: HttpService, private native: NativeService, private orderlist: OrderlistService,\n    private xcxllist: XclistService, public actionSheetController: ActionSheetController) { }\n\n  ngOnInit() {\n    this.pflist = [{name: '服务', val: 5, key: 'server'},\n                    {name: '发货', val: 5, key: 'send'},\n                    {name: '物流', val: 5, key: 'shipping'}];\n                    // {name: '描述', val: 5, key: 'comment_rank'},\n    this.imglist = [1, 1, 1, 1, 1];\n    this.isNm = true;\n    this.imgs = [];\n  }\n  ionViewWillEnter() {\n    console.log('进入2')\n    const params = this.activeroute.snapshot.queryParams;\n    this.orderId = params['id'];\n    this.isxc = params['type'] ? true : false;\n    this.getBq();\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 获取订单商品对象\n   * @Date: 2019-11-05 17:00:01\n   * @param {type} \n   * @return: \n   */  \n  getBq() {\n    this.goodsObjarr = [];\n    this.http.getData(this.http.getGoodsTag, {order_id: this.orderId}).subscribe(res => {\n      console.log(res);\n      this.orderSn = res['order_sn'];\n      if (res['data'] && res['data'].length > 0) {\n        this.imgs.fill([], 0, res['data'].length - 1);\n        res['data'].map(data => {\n          let obj = {\n            content: '', // 内容\n            tags_zi: [], // 自定义标签\n            comment_tag: [], // 已选标签\n            comment_rank: 5, // 描述分\n            imgs: [] // 图片列表\n          };\n          obj = Object.assign(obj, data);\n          this.goodsObjarr.push(obj);\n        });\n      }\n    }, err2 => {\n      this.goBack();\n    });\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 设置商品分数\n   * @Date: 2019-11-04 17:49:18\n   * @param {type} item 商品对象\n   * @param {type} val 分数\n   * @return: \n   */  \n  setitemPf(item: object, val: number) {\n    item['comment_rank'] = val;\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 删除单个自定义标签\n   * @Date: 2019-11-04 15:51:25\n   * @param {type} index 删除序号\n   * @param {type} item 操作数组对象\n   * @return: \n   */  \n  removeBq(index: number, item: string[]) {\n    item['tags_zi'].splice(index, 1);\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 设置平分\n   * @Date: 2019-11-04 15:08:47\n   * @param {type} index 位置，pflist的第几个数据\n   * @param {type} val 分数\n   * @return: \n   */\n  setPf(index: number, val: number) {\n    this.pflist[index].val = val;\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 添加标签\n   * @Date: 2019-11-04 15:40:48\n   * @param {type} item 操作对象数据\n   * @return: \n   */  \n  addBq(item) {\n    console.log(item);\n    item['tags_zi'].push(item.newbq);\n    item.newbq = '';\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 设置已有标签的选中\n   * @Date: 2019-11-04 22:06:47\n   * @param {type} item 商品对象\n   * @param {type} i 第几个标签\n   * @return: \n   */  \n  setChangebq(item: object, i: number) {\n    let bool: boolean = true;\n    if (item['tags'][i].active) {\n      item['tags'][i].active = false;\n      bool = false;\n    } else {\n      item['tags'][i].active = true;\n    }\n    const id = item['tags'][i]['tag_id'];\n    if (bool) {\n      item['comment_tag'].push(id);\n    } else {\n      for (let index = 0; index < item['comment_tag'].length; index++) {\n        if (item['comment_tag'][index] == id) {\n          item['comment_tag'].splice(index, 1);\n          break;\n        }\n      }\n    }\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 获取图片\n   * @Date: 2019-11-05 17:00:29\n   * @param {type} index 评论商品对象序号\n   * @param {type} length 还可以添加几张\n   * @return: \n   */  \n  async selecteImgs(index: number, length: number) {\n    const actionSheet = await this.actionSheetController.create({\n      header: '请选择来源',\n      buttons: [{\n        text: '相机',\n        role: 'destructive',\n        handler: () => {\n          this.native.getPictureByCamera().then(res => {\n            this.basezfile(res, index);\n          });\n        }\n      }, {\n        text: '相册',\n        handler: () => {\n          this.native.getPictures(length).then((res: any) => {\n            res.map(img => {\n              this.basezfile(img, index);\n            });\n          }, err => {\n\n          });\n        }\n      }, {\n        text: '取消',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }]\n    });\n    await actionSheet.present();\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 将上传图片改为异步结合,获取图片上传完成后的事件\n   * @Date: 2019-11-05 17:11:59\n   * @param {type} \n   * @return: \n   */  \n  basezfile(base64, index) {\n    if (!this.imgs[index]) {\n      this.imgs[index] = [];\n    }\n    this.imgs[index].push(base64);\n    const nowimgindex = this.imgs[index].length - 1;\n    const file = this.native.getImgbase64tofile(base64, 'comment' + index, 'imgFile');\n    if (!this.isupdate) {\n      this.isupdate = [];\n    }\n    this.isupdate.push(1);\n    this.imgupload(file).then(res => {\n      this.isupdate.splice(0, 1);\n      this.goodsObjarr[index]['imgs'][nowimgindex] = res;\n    }).catch(err3 => {\n      this.isupdate.splice(0, 1);\n      this.imgs[index].splice(nowimgindex, 1);\n    });\n  }\n  /**\n   * @Author: wjy-mac\n   * @description: 上传图片方法\n   * @Date: 2019-11-05 17:12:29\n   * @param {type} file 图片对象\n   * @return: \n   */  \n  imgupload(file) {\n    return new Promise((resolve, reject) => {\n      const oReq = new XMLHttpRequest();\n      oReq.open('POST', this.http.domain + this.http.updateimg);\n      oReq.onreadystatechange = (oEvent) => {\n        if (oReq.readyState == 4 && oReq.status == 200) {\n          const res = JSON.parse(oReq.response)\n          resolve(res.result);\n        }\n      };\n      oReq.onerror = (err) => {\n        reject(err);\n      };\n      oReq.send(file);\n    });\n  }\n  goBack(): void {\n    this.nav.back();\n  }\n  sub() {\n    const obj = {};\n    this.pflist.map(item => {\n      obj[item.key] = item.val;\n    });\n    obj['pjarr'] = JSON.stringify(Array.from(this.goodsObjarr));\n    obj['o_id'] = this.orderId;\n    if (this.isNm) {\n      obj['hide_username'] = 1;\n    }\n    console.log(obj);\n    this.http.postformdataloading(this.http.commentSend, obj).subscribe(res => {\n      this.native.presentToast(res.msg);\n      if (this.isxc) {\n        this.xcxllist.setOrderispj(this.orderId, this.orderSn);\n      } else {\n        this.orderlist.setOrderispj(this.orderId, this.orderSn);\n      }\n      this.goBack();\n    }, err2 => {\n\n    });\n  }\n}\n"],"sourceRoot":""}