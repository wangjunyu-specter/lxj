{"version":3,"sources":["webpack:///./src/app/pages/comments-list/comments-list.module.ts","webpack:///./src/app/pages/comments-list/comments-list.page.html","webpack:///./src/app/pages/comments-list/comments-list.page.scss","webpack:///./src/app/pages/comments-list/comments-list.page.ts"],"names":[],"mappings":"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","file":"pages-comments-list-comments-list-module.js","sourcesContent":["/*\n * @Author: wjy-mac\n * @Date: 2019-11-05 11:32:10\n * @LastEditors: wjy-mac\n * @LastEditTime: 2019-11-05 11:41:51\n * @Description: file content\n */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommentsListPage } from './comments-list.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommentsListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CommentsListPage]\n})\nexport class CommentsListPageModule {}\n","module.exports = \"<!--\\n * @Author: wjy-mac\\n * @Date: 2019-11-05 11:32:10\\n * @LastEditors: wjy-mac\\n * @LastEditTime: 2019-11-05 14:52:10\\n * @Description: file content\\n -->\\n<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon mode=\\\"ios\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>评论列表</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <app-nomore *ngIf=\\\"commentList && commentList.length === 0\\\"></app-nomore>\\n  <ion-row *ngIf=\\\"tags\\\">\\n    <ion-col *ngFor=\\\"let item of tags\\\">\\n      <ion-chip color=\\\"secondary\\\">\\n        <ion-label color=\\\"dark\\\">{{item.tag_name}}({{item.tag_num}})</ion-label>\\n      </ion-chip>\\n    </ion-col>\\n  </ion-row>\\n  <div *ngFor=\\\"let item of commentList\\\">\\n    <app-pjcontent [data]=\\\"item\\\"></app-pjcontent>\\n  </div>\\n  <ion-infinite-scroll (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NvbW1lbnRzLWxpc3QvY29tbWVudHMtbGlzdC5wYWdlLnNjc3MifQ== */\"","/*\n * @Author: wjy-mac\n * @Date: 2019-11-05 11:32:10\n * @LastEditors: wjy-mac\n * @LastEditTime: 2019-11-05 14:58:11\n * @Description: file content\n */\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { NavController, IonInfiniteScroll } from '@ionic/angular';\nimport { HttpService } from 'src/app/services/http.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-comments-list',\n  templateUrl: './comments-list.page.html',\n  styleUrls: ['./comments-list.page.scss'],\n})\nexport class CommentsListPage implements OnInit {\n  commentList: object[];\n  private goodsId: string;\n  tags: object[];\n  private pageObj: object;\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  constructor(private nav: NavController, private http: HttpService, private activeroute: ActivatedRoute) { }\n  goBack(): void {\n    this.nav.back();\n  }\n  ngOnInit() {\n    this.commentList = [];\n    this.tags = [];\n    this.pageObj = {\n      page: 0,\n      limit: 10\n    };\n  }\n  ionViewWillEnter() {\n    console.log('进入2')\n    const params = this.activeroute.snapshot.queryParams;\n    this.goodsId = params['id'];\n    this.getList();\n  }\n  getList(event?) {\n    const obj = {\n      goods_id: this.goodsId,\n      page: this.pageObj['page'],\n      limit: this.pageObj['limit']\n    };\n    this.http.getDataloading(this.http.getGoodcommentList, obj).subscribe(res => {\n      if (this.pageObj['page'] === 0) {\n        this.tags = res['data']['tags'];\n      }\n      console.log(this.tags);\n      this.commentList.push(...res['data']['comment']);\n      if (event) {\n        event.target.complete();\n      }\n      if (res['data']['comment'].length < obj['limit']) {\n        this.infiniteScroll.disabled = true;\n      }\n    }, err2 => {\n      if (event) {\n        event.target.complete();\n      }\n    });\n  }\n  loadData(event) {\n    this.pageObj['page']++;\n    this.getList(event);\n  }\n}\n"],"sourceRoot":""}