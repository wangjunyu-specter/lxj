(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{FUS3:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},N34w:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),o=e("mrSG"),i=e("Ud6+"),u=e("6m4Z"),s=e("ZZ/e"),r=e("Gyf/"),a=e("KanJ"),c=e("yrQW"),d=e("N+K7"),p=e("qfBg"),g=e("A+5Q"),h=e("iQv9"),f=e("eBP+"),m=function(){function n(n,t,e,l,o,i,u,s,r,a,c,d,p){this.nav=n,this.activeroute=t,this.ws=e,this.emojiishow=l,this.itemclickfn=o,this.newslist=i,this.userfn=u,this.http=s,this.native=r,this.actionSheetController=a,this.photoViewer=c,this.suppliserlist=d,this.toPage=p}return n.prototype.ngOnInit=function(){this.ws.testOnline()},n.prototype.ionViewWillEnter=function(){var n=this,t=this.activeroute.snapshot.queryParams;this.shopId=t.id,this.shopName=t.name,this.kftype=t.kftype||1,this.suppliserlist.getData(this.shopId).then((function(t){n.shopHead=t.shoplogo})).catch((function(n){})),this.list=this.newslist.getOnelist(this.shopId),this.scrollToBottom(1),this.userfn.getUser().then((function(t){n.uid=t.user_id,n.userhead=t.headimg,n.username=t.user_name})).catch((function(){})),this.newslist.Source.subscribe((function(t){n.scrollToBottom(1)})),this.newslist.getIsshopconetnt(this.shopId)||this.getContentlist()},n.prototype.ionViewWillLeave=function(){console.log("即将离开"),this.newslist.clearShopid(),this.setListyd()},n.prototype.getContentlist=function(){var n=this;this.http.getDataloading(this.http.getMynewscontent,{shopId:this.shopId}).subscribe((function(t){n.newslist.setShopcontent(n.shopId),console.log(t),n.newslist.setShophistorynews(n.shopId,t.data)}),(function(n){}))},n.prototype.setListyd=function(){this.http.getData(this.http.setMynewsList,{shopId:this.shopId}).subscribe((function(n){}),(function(n){}))},n.prototype.choiceImg=function(){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.actionSheetController.create({header:"请选择来源",buttons:[{text:"相机",role:"destructive",handler:function(){n.native.getPictureByCamera().then((function(t){n.basezfile(t)}))}},{text:"相册",handler:function(){n.native.getPictures(length).then((function(t){t.map((function(t){n.basezfile(t)}))}),(function(n){}))}},{text:"取消",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},n.prototype.basezfile=function(n){var t=this,e=this.native.getImgbase64tofile(n,"news","file");this.setTargetId();var l=this.addNews(n);this.newslist.setList(this.shopId,Object.assign({},l)),l.wd=-1,this.imgupload(e).then((function(n){l.content=n,t.ws.sendMessage(l,"usersend")})).catch((function(n){}))},n.prototype.imgupload=function(n){var t=this;return new Promise((function(e,l){var o=new XMLHttpRequest;o.open("POST",t.http.domain+t.http.updateimg),o.onreadystatechange=function(n){if(4==o.readyState&&200==o.status){var t=JSON.parse(o.response);e(t.result)}},o.onerror=function(n){l(n)},o.send(n)}))},n.prototype.sendMsg=function(n){this.setTargetId();var t=this.addNews(n);this.newslist.setList(this.shopId,Object.assign({},t)),t.wd=-1,this.ws.sendMessage(t,"usersend")},n.prototype.setTargetId=function(){if(!this.targetId&&this.list.length>0)for(var n=this.list.length-1;n>=0;n--){var t=this.list[n];if(t.uid!=this.uid){t.kftype!=this.kftype&&0!==Number(t.kftype)||(this.targetId=t.uid,this.tname=t.tname);break}}},n.prototype.addNews=function(n,t){return void 0===t&&(t=1),{uid:this.uid,uname:this.username,tid:this.targetId||-1,content:decodeURIComponent(n),time:Date.parse(new Date),type:t,tname:this.tname||this.shopName,uheader:this.userhead,theader:this.shopHead,shopId:this.shopId,shopName:this.shopName,wd:1,kftype:this.kftype,isyh:1}},n.prototype.monfous=function(){this.isshowDrop=!0},n.prototype.monblur=function(){this.emojiishow.getIsshows()||this.blurClear()},n.prototype.blurClear=function(n){n&&this.emojiishow.setIsshow(2),this.isshowDrop=!1},n.prototype.clickdrop=function(){this.blurClear(1),this.itemclickfn.Source.emit(2)},n.prototype.goBack=function(){this.nav.back()},n.prototype.scanImg=function(n){n.includes("http")||n.includes("www")?this.photoViewer.show(n):this.photoViewer.show(this.http.domain+n)},n.prototype.scrollToBottom=function(n){var t=this;console.log("开始滚动了"),setTimeout((function(){t.content.scrollToBottom(1)}),n)},n.prototype.goTopage=function(n,t){this.toPage.toPage(n,t)},n}(),v=function(){return function(){}}(),b=e("pMnS"),y=e("oBZk"),w=e("Ip0R"),x=function(){function n(){}return n.prototype.transform=function(n,t){for(var e=0;e<t.length;e++){var l=Number(t[e].time);if(l===n&&0===e)return this.timeDownItem(n);if(0!==e&&l===n&&n-t[e-1].time>24e4)return this.timeDownItem(n);if(0!==e&&this.istwoDay(n,t[e-1].time))return this.timeDownItem(n)}return""},n.prototype.getTime=function(n){var t=new Date(n),e=t.getHours(),l=t.getMinutes();return(e<10?"0"+e.toString():e)+":"+(l<10?"0"+l.toString():l)},n.prototype.getprevTime=function(n){var t=new Date(n),e=t.getHours(),l=t.getMinutes();return"昨天"+(e<10?"0"+e.toString():e)+":"+(l<10?"0"+l.toString():l)},n.prototype.getweekTime=function(n){var t=new Date(n),e=t.getDay(),l=t.getHours(),o=t.getMinutes();return"星期"+e+" "+(l<10?"0"+l.toString():l)+":"+(o<10?"0"+o.toString():o)},n.prototype.getoldTime=function(n){var t=new Date(n),e=t.getFullYear(),l=t.getMonth()+1,o=t.getDate(),i=t.getHours(),u=t.getMinutes();return"星期"+e+"年"+(l<10?"0"+l.toString():l)+"月"+(o<10?"0"+o.toString():o)+"日 "+(i<10?"0"+i.toString():i)+":"+(u<10?"0"+u.toString():u)},n.prototype.timeDownItem=function(n){var t=new Date((new Date).setHours(0,0,0,0)).getTime();return n>=t&&n<t+864e5?this.getTime(n):n<t&&n>=t-864e5?this.getprevTime(n):n<t-864e5&&n>=t-6048e5?this.getweekTime(n):this.getoldTime(n)},n.prototype.istwoDay=function(n,t){if(new Date(n).getDate()!=new Date(t).getDate())return!0},n}(),C=e("n/qi"),I=e("yeIC"),_=e("p9W/"),M=e("ZYCi"),P=l["ɵcrt"]({encapsulation:0,styles:[[".box[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{text-align:center;font-size:var(--ion-sm-text);color:var(--ion-color-medium)}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;margin-top:20px}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-right:8px;overflow:hidden}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;max-width:calc(100% - 50px)}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{line-height:30px;font-size:var(--ion-sm-text);color:var(--ion-color-medium);max-width:100%;overflow:hidden}.box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;padding:5px 15px;min-height:30px;font-size:var(--ion-title);background-color:var(--ion-color-light);border-bottom-left-radius:20px;border-bottom-right-radius:20px;border-top-right-radius:20px;max-width:100%}.box[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start}.box[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-left:8px;overflow:hidden}.box[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}.box[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;justify-content:flex-end;flex-wrap:wrap;max-width:calc(100% - 50px);margin-top:3px}.box[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{min-height:30px;padding:5px 15px;font-size:var(--ion-title);background:linear-gradient(var(--ion-color-secondary,red),var(--ion-color-success,#00f));display:inline-block;max-width:100%;border-bottom-left-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;color:#fff}.img-content[_ngcontent-%COMP%]{width:100px;border-radius:5px;overflow:hidden}.img-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ion-footer[_ngcontent-%COMP%]{padding:0;color:var(--ion-color-dark)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}ion-footer[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{height:50px}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.footer-news-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.footer-news-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:34px;padding-left:10px}.footer-news-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1}"]],data:{}});function O(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,4,"ion-buttons",[["slot","end"]],null,null,null,y.jb,y.g)),l["ɵdid"](1,49152,null,0,s.n,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](2,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.goTopage(7,o.shopId)&&l),l}),y.ib,y.f)),l["ɵdid"](3,49152,null,0,s.m,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵted"](-1,0,[" 店铺 "]))],null,null)}function R(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),(n()(),l["ɵted"](1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.parent.parent.context.$implicit.content)}))}function k(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,2,"div",[["class","img-content"]],null,null,null,null,null)),(n()(),l["ɵeld"](1,0,null,null,1,"img",[["alt",""]],[[8,"src",4]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.scanImg(n.parent.parent.context.$implicit.content)&&l),l}),null,null)),l["ɵppd"](2,2)],null,(function(n,t){var e=t.component,o=l["ɵunv"](t,1,0,n(t,2,0,l["ɵnov"](t.parent.parent.parent,1),t.parent.parent.context.$implicit.content,e.http.zdomain));n(t,1,0,o)}))}function N(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,10,"div",[["class","item"]],null,null,null,null,null)),(n()(),l["ɵeld"](1,0,null,null,2,"div",[["class","left"]],null,null,null,null,null)),(n()(),l["ɵeld"](2,0,null,null,1,"img",[["alt",""],["class","header"]],[[8,"src",4]],null,null,null,null)),l["ɵppd"](3,2),(n()(),l["ɵeld"](4,0,null,null,6,"div",[["class","right"]],null,null,null,null,null)),(n()(),l["ɵeld"](5,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(n()(),l["ɵted"](6,null,["",""])),(n()(),l["ɵand"](16777216,null,null,1,null,R)),l["ɵdid"](8,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵand"](16777216,null,null,1,null,k)),l["ɵdid"](10,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,8,0,1===t.parent.context.$implicit.type),n(t,10,0,2===t.parent.context.$implicit.type)}),(function(n,t){var e=t.component,o=l["ɵunv"](t,2,0,n(t,3,0,l["ɵnov"](t.parent.parent,1),e.shopHead,e.http.zdomain));n(t,2,0,o),n(t,6,0,t.parent.context.$implicit.tname||t.parent.context.$implicit.shopName)}))}function D(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"span",[["class","content"]],null,null,null,null,null)),(n()(),l["ɵted"](1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.parent.parent.context.$implicit.content)}))}function S(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"img",[["alt",""],["class","img-content"]],[[8,"src",4]],null,null,null,null)),l["ɵppd"](1,2)],null,(function(n,t){var e=t.component,o=l["ɵunv"](t,0,0,n(t,1,0,l["ɵnov"](t.parent.parent.parent,1),t.parent.parent.context.$implicit.content,e.http.zdomain));n(t,0,0,o)}))}function j(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,8,"div",[["class","me"]],null,null,null,null,null)),(n()(),l["ɵeld"](1,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(n()(),l["ɵand"](16777216,null,null,1,null,D)),l["ɵdid"](3,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵand"](16777216,null,null,1,null,S)),l["ɵdid"](5,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵeld"](6,0,null,null,2,"div",[["class","right"]],null,null,null,null,null)),(n()(),l["ɵeld"](7,0,null,null,1,"img",[["alt",""]],[[8,"src",4]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.scanImg(n.parent.context.$implicit.content)&&l),l}),null,null)),l["ɵppd"](8,2)],(function(n,t){n(t,3,0,1===t.parent.context.$implicit.type),n(t,5,0,2===t.parent.context.$implicit.type)}),(function(n,t){var e=t.component,o=l["ɵunv"](t,7,0,n(t,8,0,l["ɵnov"](t.parent.parent,1),e.userhead,e.http.zdomain));n(t,7,0,o)}))}function E(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,7,"div",[["class","box"]],null,null,null,null,null)),(n()(),l["ɵeld"](1,0,null,null,2,"div",[["class","time"]],null,null,null,null,null)),(n()(),l["ɵted"](2,null,["",""])),l["ɵppd"](3,2),(n()(),l["ɵand"](16777216,null,null,1,null,N)),l["ɵdid"](5,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵand"](16777216,null,null,1,null,j)),l["ɵdid"](7,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,5,0,1!=t.context.$implicit.isyh),n(t,7,0,1==t.context.$implicit.isyh)}),(function(n,t){var e=t.component,o=l["ɵunv"](t,2,0,n(t,3,0,l["ɵnov"](t.parent,0),t.context.$implicit.time,e.list));n(t,2,0,o)}))}function T(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"ion-backdrop",[],null,[[null,"ionBackdropTap"]],(function(n,t,e){var l=!0;return"ionBackdropTap"===t&&(l=!1!==n.component.clickdrop()&&l),l}),y.gb,y.d)),l["ɵdid"](1,49152,null,0,s.k,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null)],null,null)}function Z(n){return l["ɵvid"](0,[l["ɵpid"](0,x,[]),l["ɵpid"](0,C.a,[]),l["ɵqud"](402653184,1,{content:0}),(n()(),l["ɵeld"](3,0,null,null,14,"ion-header",[["mode","ios"]],null,null,null,y.vb,y.s)),l["ɵdid"](4,49152,null,0,s.D,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{mode:[0,"mode"]},null),(n()(),l["ɵeld"](5,0,null,0,12,"ion-toolbar",[["mode","ios"]],null,null,null,y.fc,y.cb)),l["ɵdid"](6,49152,null,0,s.Eb,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{mode:[0,"mode"]},null),(n()(),l["ɵeld"](7,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,y.jb,y.g)),l["ɵdid"](8,49152,null,0,s.n,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](9,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.goBack()&&l),l}),y.ib,y.f)),l["ɵdid"](10,49152,null,0,s.m,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](11,0,null,0,1,"ion-icon",[["mode","ios"],["name","arrow-back"]],null,null,null,y.wb,y.t)),l["ɵdid"](12,49152,null,0,s.E,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{mode:[0,"mode"],name:[1,"name"]},null),(n()(),l["ɵeld"](13,0,null,0,2,"ion-title",[],null,null,null,y.dc,y.ab)),l["ɵdid"](14,49152,null,0,s.Cb,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵted"](15,0,["",""])),(n()(),l["ɵand"](16777216,null,0,1,null,O)),l["ɵdid"](17,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵeld"](18,0,null,null,5,"ion-content",[["class","ion-padding"]],null,null,null,y.rb,y.o)),l["ɵdid"](19,49152,[[1,4],["content",4]],0,s.w,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵand"](16777216,null,0,1,null,E)),l["ɵdid"](21,278528,null,0,w.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["ɵand"](16777216,null,0,1,null,T)),l["ɵdid"](23,16384,null,0,w.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵeld"](24,0,null,null,9,"ion-footer",[],null,null,null,y.tb,y.q)),l["ɵdid"](25,49152,null,0,s.B,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](26,0,null,0,7,"ion-toolbar",[["class","ion-no-padding"]],null,null,null,y.fc,y.cb)),l["ɵdid"](27,49152,null,0,s.Eb,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](28,0,null,0,5,"div",[["class","footer-news-box"]],null,null,null,null,null)),(n()(),l["ɵeld"](29,0,null,null,1,"div",[["class","left"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.choiceImg()&&l),l}),null,null)),(n()(),l["ɵeld"](30,0,null,null,0,"img",[["alt",""],["src","../../../assets/imgk.svg"]],null,null,null,null,null)),(n()(),l["ɵeld"](31,0,null,null,2,"div",[["class","right"]],null,null,null,null,null)),(n()(),l["ɵeld"](32,0,null,null,1,"app-chatinputbox",[],null,[[null,"sub"],[null,"myfous"],[null,"mybulr"]],(function(n,t,e){var l=!0,o=n.component;return"sub"===t&&(l=!1!==o.sendMsg(e)&&l),"myfous"===t&&(l=!1!==o.monfous()&&l),"mybulr"===t&&(l=!1!==o.monblur()&&l),l}),I.b,I.a)),l["ɵdid"](33,114688,null,0,_.a,[a.a,u.a,c.a],null,{myfous:"myfous",mybulr:"mybulr",sub:"sub"})],(function(n,t){var e=t.component;n(t,4,0,"ios"),n(t,6,0,"ios"),n(t,12,0,"ios","arrow-back"),n(t,17,0,"0"!=e.shopId),n(t,21,0,e.list),n(t,23,0,e.isshowDrop),n(t,33,0)}),(function(n,t){n(t,15,0,t.component.shopName)}))}function F(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"app-newslist",[],null,null,null,Z,P)),l["ɵdid"](1,114688,null,0,m,[s.Kb,M.a,r.a,a.a,c.a,g.a,p.a,d.a,u.a,s.a,h.a,f.a,i.a],null,null)],(function(n,t){n(t,1,0)}),null)}var V=l["ɵccf"]("app-newslist",m,F,{},{},[]),B=e("gIcY"),H=e("hoFm"),L=e("iTUp"),z=e("FUS3"),W=e("j1ZV");e.d(t,"NewslistPageModuleNgFactory",(function(){return $}));var $=l["ɵcmf"](v,[],(function(n){return l["ɵmod"]([l["ɵmpd"](512,l.ComponentFactoryResolver,l["ɵCodegenComponentFactoryResolver"],[[8,[b.a,V]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["ɵmpd"](4608,w.NgLocalization,w.NgLocaleLocalization,[l.LOCALE_ID,[2,w["ɵangular_packages_common_common_a"]]]),l["ɵmpd"](4608,B.s,B.s,[]),l["ɵmpd"](4608,s.c,s.c,[l.NgZone,l.ApplicationRef]),l["ɵmpd"](4608,s.Jb,s.Jb,[s.c,l.ComponentFactoryResolver,l.Injector]),l["ɵmpd"](4608,s.Nb,s.Nb,[s.c,l.ComponentFactoryResolver,l.Injector]),l["ɵmpd"](4608,H.a,H.a,[]),l["ɵmpd"](1073742336,w.CommonModule,w.CommonModule,[]),l["ɵmpd"](1073742336,B.r,B.r,[]),l["ɵmpd"](1073742336,B.d,B.d,[]),l["ɵmpd"](1073742336,s.Gb,s.Gb,[]),l["ɵmpd"](1073742336,L.a,L.a,[]),l["ɵmpd"](1073742336,z.a,z.a,[]),l["ɵmpd"](1073742336,W.a,W.a,[]),l["ɵmpd"](1073742336,M.p,M.p,[[2,M.u],[2,M.n]]),l["ɵmpd"](1073742336,v,v,[]),l["ɵmpd"](1024,M.l,(function(){return[[{path:"",component:m}]]}),[])])}))},"eBP+":function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var l=e("mrSG"),o=e("N+K7"),i=e("CcnG"),u=function(){function n(n){this.http=n,this.list=[],this.idlist=new Set,this.gxList={}}return n.prototype.clear=function(){this.list=[],this.idlist.clear(),this.gxList={}},n.prototype.setList=function(n){if(n.suppid=n.suppid.toString(),this.id=n.suppid,this.idlist.has(n.suppid))return!1;n.yj=Number(n.yj),this.list.push(n),this.idlist.add(n.suppid),this.gxList[n.suppid]=this.list.length-1},n.prototype.setData=function(n,t,e){if(!this.idlist.has(n))return!1;this.list[this.gxList[n]][t]=e},n.prototype.getData=function(n,t){return void 0===t&&(t="0"),l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return this.id=n,this.idlist.has(n)?[2,this.list[this.gxList[n]]]:[4,this.getHttp(n,t)];case 1:return e.sent()?[2,this.list[this.gxList[this.id]]]:[2,null]}}))}))},n.prototype.getHttp=function(n,t){return l.__awaiter(this,void 0,void 0,(function(){var e=this;return l.__generator(this,(function(l){return console.log(n),[2,new Promise((function(l,o){e.http.getData(e.http.getsupplier,{id:t,supplier_id:n?Number(n):-1}).subscribe((function(n){e.setList(n.data),l(!0)}),(function(n){console.error(n),o(!1)}))}))]}))}))},n.ngInjectableDef=i["ɵɵdefineInjectable"]({factory:function(){return new n(i["ɵɵinject"](o.a))},token:n,providedIn:"root"}),n}()},hoFm:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("CcnG"),o=function(){function n(){}return n.prototype.getEmoji=function(){return"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😜 😝 😛 🤑 🤗 🤓 😎 🤡 🤠 😏 😒 😞 😔 😟 😕 🙁 ☹️ 😣 😖 😫 😩 😤 😠 😡 😶 😐 😑 😯 😦 😧 😮 😲 😵 😳 😱 😨 😰 😢 😥 🤤 😭 😓 😪 😴 🙄 🤔 🤥 😬 🤐 🤢 🤧 😷 🤒 🤕 😈 👿 👹 👺 💩 👻 💀 ☠️ 👽 👾 🤖 🎃 😺 😸 😹 😻 😼 😽 🙀 😿 😾 👐 🙌 👏 🙏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🤳 💅 🖖 💄 💋 👄 👅 👂 👃 👣 👁 👀 🗣 👤 👥 👶 👦 👧 👨 👩 👱‍♀️ 👱 👴 👵 👲 👳‍♀️ 👳 👮‍♀️ 👮 👷‍♀️ 👷".split(" ")},n.ngInjectableDef=l["ɵɵdefineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n}()},iTUp:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},j1ZV:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},"n/qi":function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){function n(){}return n.prototype.transform=function(n,t){return console.log(t),n?n.startsWith("http")||n.startsWith("data:image")||n.startsWith("file:///")||n.startsWith("cdvfile://")?n:n.startsWith("/mobile")&&t&&t.endsWith("mobile/")?t+n.substring(7):n.startsWith("./../")?t+n.substring(5):t+n:"../../assets/mrtx.png"},n}()},"p9W/":function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("CcnG"),o=(e("KanJ"),e("6m4Z"),e("yrQW"),function(){function n(n,t,e){this.emojiishow=n,this.native=t,this.itemclickfn=e,this.myfous=new l.EventEmitter,this.mybulr=new l.EventEmitter,this.sub=new l.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;this.inputhy(),this.isandroid=this.native.isandroid(),window.addEventListener("keyboardWillShow",(function(t){n.keyboardH=n.isandroid?t.keyboardHeight:0})),window.addEventListener("keyboardWillHide",(function(t){n.emojiishow.getIsshows()?n.keyboardH=150:(n.keyboardH=0,n.myInput.getInputElement().then((function(n){n.blur()})))})),this.itemclickfn.Source.subscribe((function(t){console.log(t),1==t?n.myInput.setFocus():n.myInput.getInputElement().then((function(t){t.blur(),n.inputhy()}))}))},n.prototype.ionFocus=function(){console.log("获得焦点"),this.emojiishow.setIsshow(2),this.setFocus()},n.prototype.setFocus=function(){this.setHeight={height:""},this.myfous.emit()},n.prototype.ionBlur=function(){console.log("失去焦点"),this.emojiishow.getIsshows()||this.mybulr.emit()},n.prototype.changeItem=function(n){this.formdata.content+=n},n.prototype.toggle=function(){console.log("点击了"),this.emojiishow.getIsshows()?(this.emojiishow.setIsshow(2),this.myInput.setFocus()):(this.emojiishow.setIsshow(1),this.setFocus(),this.keyboardH=150)},n.prototype.onSubmit=function(n){if(!this.formdata.content)return!1;this.sub.emit(encodeURIComponent(this.formdata.content)),this.inputhy()},n.prototype.inputhy=function(){this.keyboardH=0,this.formdata={content:""},this.setHeight={height:"43px"},this.emojiishow.setIsshow(2)},n}())},yeIC:function(n,t,e){"use strict";var l=e("CcnG"),o=e("gIcY"),i=e("Ip0R"),u=e("oBZk"),s=e("ZZ/e"),r=e("hoFm"),a=e("KanJ"),c=function(){function n(n,t){this.emojiservice=n,this.emojiishow=t,this.setItem=new l.EventEmitter}return n.prototype.ngOnInit=function(){this.isshow=this.emojiishow.getIsshow(),this.list=this.emojiservice.getEmoji(),this.slideOpts={slidesPerView:8,slidesPerGroup:8,slidesPerColumn:3,spaceBetween:10,pagination:{el:".swiper-pagination2",renderBullet:function(n,t){return'<span class="'+t+'" style="margin: 0 5px;">&nbsp;</span>'}}}},n.prototype.changeItem=function(n){this.setItem.emit(n)},n}(),d=l["ɵcrt"]({encapsulation:0,styles:[[".swiper-pagination2[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:10px;text-align:center;left:0;--bullet-background-active:var(--ion-color-secondary);--bullet-background:#333}.my-swiper-item[_ngcontent-%COMP%]{width:5px;height:5px;margin:0 5px!important}.emoje-box[_ngcontent-%COMP%]{border-top:1px solid var(--ion-color-light);position:absolute;height:150px;width:100%;left:0;padding:10px}.emoje-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}"]],data:{animation:[{type:7,name:"openClose",definitions:[{type:0,name:"show",styles:{type:6,styles:{bottom:"0px"},offset:null},options:void 0},{type:0,name:"close",styles:{type:6,styles:{bottom:"-170px"},offset:null},options:void 0},{type:1,expr:"* => *",animation:[{type:4,styles:null,timings:"0.2s"}],options:null}],options:{}}]}});function p(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,3,"ion-slide",[],null,null,null,u.Vb,u.S)),l["ɵdid"](1,49152,null,0,s.sb,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],null,null),(n()(),l["ɵeld"](2,0,null,0,1,"div",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.changeItem(n.context.$implicit)&&l),l}),null,null)),(n()(),l["ɵted"](3,null,["",""]))],null,(function(n,t){n(t,3,0,t.context.$implicit)}))}function g(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,5,"div",[["class","emoje-box"]],[[24,"@openClose",0]],null,null,null,null)),(n()(),l["ɵeld"](1,0,null,null,3,"ion-slides",[["pager","true"]],null,null,null,u.Wb,u.T)),l["ɵdid"](2,49152,null,0,s.tb,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{options:[0,"options"],pager:[1,"pager"]},null),(n()(),l["ɵand"](16777216,null,0,1,null,p)),l["ɵdid"](4,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["ɵeld"](5,0,null,null,0,"div",[["class","swiper-pagination2"]],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,2,0,e.slideOpts,"true"),n(t,4,0,e.list)}),(function(n,t){n(t,0,0,t.component.isshow.show?"show":"close")}))}e("p9W/"),e("6m4Z"),e("yrQW"),e.d(t,"a",(function(){return h})),e.d(t,"b",(function(){return m}));var h=l["ɵcrt"]({encapsulation:0,styles:[["ion-textarea[_ngcontent-%COMP%]{background-color:var(--ion-gray-background-color);border-radius:5px;--padding-start:10px;--padding-end:10px;width:100%;flex:1}.input-box[_ngcontent-%COMP%]{padding-bottom:5px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-end}.input-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:50px;font-size:34px}.emoje-box[_ngcontent-%COMP%]{margin-top:20px}.user-name[_ngcontent-%COMP%]{line-height:25px;font-size:var(--ion-sm-text);color:var(--ion-color-medium)}form[_ngcontent-%COMP%]{padding:4px 10px 0}.dtbox[_ngcontent-%COMP%]{width:100%;height:0;transition:height .2s linear;webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}"]],data:{}});function f(n){return l["ɵvid"](0,[(n()(),l["ɵeld"](0,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),l["ɵted"](1,null,[" 回复："," "]))],null,(function(n,t){n(t,1,0,t.component.username)}))}function m(n){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{myInput:0}),(n()(),l["ɵeld"](1,0,null,null,30,"div",[["class","footer-box"]],null,null,null,null,null)),(n()(),l["ɵeld"](2,0,null,null,25,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,t,e){var o=!0,i=n.component;return"submit"===t&&(o=!1!==l["ɵnov"](n,4).onSubmit(e)&&o),"reset"===t&&(o=!1!==l["ɵnov"](n,4).onReset()&&o),"ngSubmit"===t&&(o=!1!==i.onSubmit(l["ɵnov"](n,4).value)&&o),o}),null,null)),l["ɵdid"](3,16384,null,0,o.u,[],null,null),l["ɵdid"](4,4210688,[["heroForm",4]],0,o.l,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["ɵprd"](2048,null,o.b,null,[o.l]),l["ɵdid"](6,16384,null,0,o.k,[[4,o.b]],null,null),(n()(),l["ɵand"](16777216,null,null,1,null,f)),l["ɵdid"](8,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["ɵeld"](9,0,null,null,16,"div",[["class","input-box"]],null,null,null,null,null)),(n()(),l["ɵeld"](10,0,null,null,10,"ion-textarea",[["mode","ios"],["name","myInput"],["placeholder","说个什么吧~"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionFocus"],[null,"ionBlur"],[null,"ngModelChange"],[null,"ionChange"]],(function(n,t,e){var o=!0,i=n.component;return"ionBlur"===t&&(o=!1!==l["ɵnov"](n,14)._handleBlurEvent(e.target)&&o),"ionChange"===t&&(o=!1!==l["ɵnov"](n,14)._handleInputEvent(e.target)&&o),"ionFocus"===t&&(o=!1!==i.ionFocus()&&o),"ionBlur"===t&&(o=!1!==i.ionBlur()&&o),"ngModelChange"===t&&(o=!1!==(i.formdata.content=e)&&o),o}),u.bc,u.Y)),l["ɵprd"](512,null,i["ɵNgStyleImpl"],i["ɵNgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["ɵdid"](12,278528,null,0,i.NgStyle,[i["ɵNgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["ɵdid"](13,49152,[[1,4],["myInput",4]],0,s.Ab,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{autoGrow:[0,"autoGrow"],mode:[1,"mode"],name:[2,"name"],placeholder:[3,"placeholder"],required:[4,"required"]},null),l["ɵdid"](14,16384,null,0,s.Rb,[l.ElementRef],null,null),l["ɵdid"](15,16384,null,0,o.p,[],{required:[0,"required"]},null),l["ɵprd"](1024,null,o.g,(function(n){return[n]}),[o.p]),l["ɵprd"](1024,null,o.h,(function(n){return[n]}),[s.Rb]),l["ɵdid"](18,671744,null,0,o.m,[[2,o.b],[6,o.g],[8,null],[6,o.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["ɵprd"](2048,null,o.i,null,[o.m]),l["ɵdid"](20,16384,null,0,o.j,[[4,o.i]],null,null),(n()(),l["ɵeld"](21,0,null,null,1,"ion-icon",[["mode","md"],["name","happy"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggle()&&l),l}),u.wb,u.t)),l["ɵdid"](22,49152,null,0,s.E,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{mode:[0,"mode"],name:[1,"name"]},null),(n()(),l["ɵeld"](23,0,null,null,2,"ion-button",[["color","success"],["size","small"],["type","submit"]],null,null,null,u.ib,u.f)),l["ɵdid"](24,49152,null,0,s.m,[l.ChangeDetectorRef,l.ElementRef,l.NgZone],{color:[0,"color"],disabled:[1,"disabled"],size:[2,"size"],type:[3,"type"]},null),(n()(),l["ɵted"](-1,0,["发送"])),(n()(),l["ɵeld"](26,0,null,null,1,"app-emojipick",[],null,[[null,"setItem"]],(function(n,t,e){var l=!0;return"setItem"===t&&(l=!1!==n.component.changeItem(e)&&l),l}),g,d)),l["ɵdid"](27,114688,null,0,c,[r.a,a.a],null,{setItem:"setItem"}),(n()(),l["ɵeld"](28,0,null,null,3,"div",[["class","dtbox"]],null,null,null,null,null)),l["ɵprd"](512,null,i["ɵNgStyleImpl"],i["ɵNgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["ɵdid"](30,278528,null,0,i.NgStyle,[i["ɵNgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),l["ɵpod"](31,{height:0})],(function(n,t){var e=t.component;n(t,8,0,e.username),n(t,12,0,e.setHeight),n(t,13,0,!0,"ios","myInput","说个什么吧~",""),n(t,15,0,""),n(t,18,0,"myInput",e.formdata.content),n(t,22,0,"md","happy"),n(t,24,0,"success",!l["ɵnov"](t,4).form.valid,"small","submit"),n(t,27,0);var o=n(t,31,0,e.keyboardH+"px");n(t,30,0,o)}),(function(n,t){n(t,2,0,l["ɵnov"](t,6).ngClassUntouched,l["ɵnov"](t,6).ngClassTouched,l["ɵnov"](t,6).ngClassPristine,l["ɵnov"](t,6).ngClassDirty,l["ɵnov"](t,6).ngClassValid,l["ɵnov"](t,6).ngClassInvalid,l["ɵnov"](t,6).ngClassPending),n(t,10,0,l["ɵnov"](t,15).required?"":null,l["ɵnov"](t,20).ngClassUntouched,l["ɵnov"](t,20).ngClassTouched,l["ɵnov"](t,20).ngClassPristine,l["ɵnov"](t,20).ngClassDirty,l["ɵnov"](t,20).ngClassValid,l["ɵnov"](t,20).ngClassInvalid,l["ɵnov"](t,20).ngClassPending)}))}}}]);