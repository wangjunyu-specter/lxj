(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{iTUp:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){return function(){}}()},laDz:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("mrSG"),o=e("ZZ/e"),i=e("qfBg"),a=e("6m4Z"),d=e("N+K7"),r=function(){function n(n,l,e,t,u){this.nav=n,this.userfn=l,this.native=e,this.actionSheetController=t,this.http=u}return n.prototype.ngOnInit=function(){var n=this;this.userfn.getUserp().then(function(l){console.log(l),n.userid=l.user_id,n.userData={headimg:l.headimg,username:l.user_name||l.username,birthday:l.birthday,sex:l.sex}}).catch(function(n){})},n.prototype.goBack=function(){this.nav.back()},n.prototype.onSubmit=function(){return u.b(this,void 0,void 0,function(){var n;return u.e(this,function(l){return console.log(this.userData),(n=Object.assign({},this.userData)).username?(this.isloading=!0,n.birthday.includes("T")&&(n.birthday=n.birthday.split("T")[0],this.userData.birthday=n.birthday),this.ischangeHead?[2,!1]:(this.updateData(n),[2])):(this.native.presentAlert("\u8bf7\u8f93\u5165\u7528\u6237\u540d!"),[2,!1])})})},n.prototype.updateData=function(n){var l=this;this.http.postformdataloading(this.http.editprofile,n).subscribe(function(e){console.log(e),l.isupdate=!0,l.userfn.upDataobj(n),l.isloading=!1,l.ischangeHeadend=!1},function(n){l.isloading=!1})},n.prototype.imgupload=function(n){var l=this;return new Promise(function(e,t){var u=new XMLHttpRequest;u.open("POST",l.http.domain+l.http.updateimg),u.onreadystatechange=function(n){if(4==u.readyState&&200==u.status){var l=JSON.parse(u.response);e(l.result.thumb)}},u.onerror=function(n){t(n)},u.send(n)})},n.prototype.imgFrom=function(){return u.b(this,void 0,void 0,function(){var n=this;return u.e(this,function(l){switch(l.label){case 0:return[4,this.actionSheetController.create({buttons:[{text:"\u62cd\u6444\u7167\u7247",handler:function(){console.log("Delete clicked"),n.native.getPictureByCamera().then(function(l){if(!l)return!1;console.log(l),n.changeHead(l)})}},{text:"\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9",handler:function(){console.log("Share clicked"),n.native.getPictureByCamera({sourceType:0}).then(function(l){if(!l)return!1;console.log(l),n.changeHead(l)})}},{text:"\u53d6\u6d88",role:"cancel",handler:function(){console.log("Cancel clicked")}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.changeHead=function(n){return u.b(this,void 0,void 0,function(){var l,e;return u.e(this,function(t){switch(t.label){case 0:this.ischangeHead=!0,this.userData.headimg=n,t.label=1;case 1:return t.trys.push([1,3,,4]),l=this.native.getImgbase64tofile(this.userData.headimg,this.userData.username+"userhead"+this.userid),console.log(l),[4,this.imgupload(l)];case 2:return e=t.sent(),console.log(e),this.userData.headimg=e,this.ischangeHead=!1,this.ischangeHeadend=!0,this.isloading&&this.onSubmit(),[3,4];case 3:return t.sent(),this.native.presentAlert("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9!"),this.ischangeHead=!1,this.isloading&&(this.isloading=!1),[2,!1];case 4:return[2]}})})},n}(),s=function(){return function(){}}(),c=e("pMnS"),g=e("oBZk"),m=e("gIcY"),h=e("Ip0R"),f=e("n/qi"),p=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ion-button",[["color","success"],["expand","block"],["type","submit"]],null,null,null,g.ib,g.f)),t["\u0275did"](1,49152,null,0,o.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(n()(),t["\u0275ted"](-1,0,["\u63d0\u4ea4"]))],function(n,l){var e=l.component;n(l,1,0,"success",!t["\u0275nov"](l.parent,2).form.valid||e.isloading,"block","submit")},null)}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,62,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var u=!0,o=n.component;return"submit"===l&&(u=!1!==t["\u0275nov"](n,2).onSubmit(e)&&u),"reset"===l&&(u=!1!==t["\u0275nov"](n,2).onReset()&&u),"ngSubmit"===l&&(u=!1!==o.onSubmit()&&u),u},null,null)),t["\u0275did"](1,16384,null,0,m.s,[],null,null),t["\u0275did"](2,4210688,[["data",4]],0,m.l,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.b,null,[m.l]),t["\u0275did"](4,16384,null,0,m.k,[[4,m.b]],null,null),(n()(),t["\u0275eld"](5,0,null,null,55,"ion-list",[],null,null,null,g.Hb,g.D)),t["\u0275did"](6,49152,null,0,o.Q,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](7,0,null,0,14,"ion-item",[],null,null,null,g.Eb,g.y)),t["\u0275did"](8,49152,null,0,o.J,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"ion-label",[],null,null,null,g.Fb,g.C)),t["\u0275did"](10,49152,null,0,o.P,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["\u7528\u6237\u540d"])),(n()(),t["\u0275eld"](12,0,null,0,9,"ion-input",[["name","username"],["required",""],["text-end",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t["\u0275nov"](n,15)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t["\u0275nov"](n,15)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(o.userData.username=e)&&u),u},g.Ab,g.x)),t["\u0275did"](13,16384,null,0,m.o,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,m.g,function(n){return[n]},[m.o]),t["\u0275did"](15,16384,null,0,o.Rb,[t.ElementRef],null,null),t["\u0275prd"](1024,null,m.h,function(n){return[n]},[o.Rb]),t["\u0275did"](17,671744,null,0,m.m,[[2,m.b],[6,m.g],[8,null],[6,m.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.i,null,[m.m]),t["\u0275did"](19,16384,null,0,m.j,[[4,m.i]],null,null),t["\u0275did"](20,49152,null,0,o.I,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"],required:[1,"required"]},null),t["\u0275did"](21,16384,null,0,o.f,[t.ElementRef],null,null),(n()(),t["\u0275eld"](22,0,null,0,8,"ion-item",[["detail",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.imgFrom()&&t),t},g.Eb,g.y)),t["\u0275did"](23,49152,null,0,o.J,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{detail:[0,"detail"]},null),(n()(),t["\u0275eld"](24,0,null,0,3,"ion-avatar",[["slot","end"]],null,null,null,g.eb,g.b)),t["\u0275did"](25,49152,null,0,o.h,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](26,0,null,0,1,"img",[],[[8,"src",4]],null,null,null,null)),t["\u0275ppd"](27,2),(n()(),t["\u0275eld"](28,0,null,0,2,"ion-label",[],null,null,null,g.Fb,g.C)),t["\u0275did"](29,49152,null,0,o.P,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["\u5934\u50cf"])),(n()(),t["\u0275eld"](31,0,null,0,11,"ion-item",[["detail",""]],null,null,null,g.Eb,g.y)),t["\u0275did"](32,49152,null,0,o.J,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{detail:[0,"detail"]},null),(n()(),t["\u0275eld"](33,0,null,0,2,"ion-label",[],null,null,null,g.Fb,g.C)),t["\u0275did"](34,49152,null,0,o.P,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["\u751f\u65e5"])),(n()(),t["\u0275eld"](36,0,null,0,6,"ion-datetime",[["Format","YYYY-MM-DD"],["cancelText","\u53d6\u6d88"],["displayFormat","YYYY-MM-DD"],["doneText","\u786e\u5b9a"],["name","birthday"],["pickerFormat","YYYY-MM-DD"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t["\u0275nov"](n,37)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t["\u0275nov"](n,37)._handleChangeEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(o.userData.birthday=e)&&u),u},g.sb,g.p)),t["\u0275did"](37,16384,null,0,o.Qb,[t.ElementRef],null,null),t["\u0275prd"](1024,null,m.h,function(n){return[n]},[o.Qb]),t["\u0275did"](39,671744,null,0,m.m,[[2,m.b],[8,null],[8,null],[6,m.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.i,null,[m.m]),t["\u0275did"](41,16384,null,0,m.j,[[4,m.i]],null,null),t["\u0275did"](42,49152,null,0,o.x,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],name:[3,"name"],pickerFormat:[4,"pickerFormat"]},null),(n()(),t["\u0275eld"](43,0,null,0,17,"ion-item",[],null,null,null,g.Eb,g.y)),t["\u0275did"](44,49152,null,0,o.J,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](45,0,null,0,2,"ion-label",[],null,null,null,g.Fb,g.C)),t["\u0275did"](46,49152,null,0,o.P,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["\u6027\u522b"])),(n()(),t["\u0275eld"](48,0,null,0,12,"ion-select",[["interface","action-sheet"],["name","sex"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t["\u0275nov"](n,49)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t["\u0275nov"](n,49)._handleChangeEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(o.userData.sex=e)&&u),u},g.Tb,g.P)),t["\u0275did"](49,16384,null,0,o.Qb,[t.ElementRef],null,null),t["\u0275prd"](1024,null,m.h,function(n){return[n]},[o.Qb]),t["\u0275did"](51,671744,null,0,m.m,[[2,m.b],[8,null],[8,null],[6,m.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.i,null,[m.m]),t["\u0275did"](53,16384,null,0,m.j,[[4,m.i]],null,null),t["\u0275did"](54,49152,null,0,o.pb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{interface:[0,"interface"],name:[1,"name"]},null),(n()(),t["\u0275eld"](55,0,null,0,2,"ion-select-option",[["value","1"]],null,null,null,g.Sb,g.Q)),t["\u0275did"](56,49152,null,0,o.qb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,0,["\u7537"])),(n()(),t["\u0275eld"](58,0,null,0,2,"ion-select-option",[["value","0"]],null,null,null,g.Sb,g.Q)),t["\u0275did"](59,49152,null,0,o.qb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,0,["\u5973"])),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](62,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,13,0,""),n(l,17,0,"username",e.userData.username),n(l,20,0,"username",""),n(l,23,0,""),n(l,32,0,""),n(l,39,0,"birthday",e.userData.birthday),n(l,42,0,"\u53d6\u6d88","YYYY-MM-DD","\u786e\u5b9a","birthday","YYYY-MM-DD"),n(l,51,0,"sex",e.userData.sex),n(l,54,0,"action-sheet","sex"),n(l,56,0,"1"),n(l,59,0,"0"),n(l,62,0,!t["\u0275nov"](l,2).form.pristine&&!e.isupdate||e.ischangeHeadend)},function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending),n(l,12,0,t["\u0275nov"](l,13).required?"":null,t["\u0275nov"](l,19).ngClassUntouched,t["\u0275nov"](l,19).ngClassTouched,t["\u0275nov"](l,19).ngClassPristine,t["\u0275nov"](l,19).ngClassDirty,t["\u0275nov"](l,19).ngClassValid,t["\u0275nov"](l,19).ngClassInvalid,t["\u0275nov"](l,19).ngClassPending);var u=t["\u0275unv"](l,26,0,n(l,27,0,t["\u0275nov"](l.parent,0),e.userData.headimg,e.http.domain));n(l,26,0,u),n(l,36,0,t["\u0275nov"](l,41).ngClassUntouched,t["\u0275nov"](l,41).ngClassTouched,t["\u0275nov"](l,41).ngClassPristine,t["\u0275nov"](l,41).ngClassDirty,t["\u0275nov"](l,41).ngClassValid,t["\u0275nov"](l,41).ngClassInvalid,t["\u0275nov"](l,41).ngClassPending),n(l,48,0,t["\u0275nov"](l,53).ngClassUntouched,t["\u0275nov"](l,53).ngClassTouched,t["\u0275nov"](l,53).ngClassPristine,t["\u0275nov"](l,53).ngClassDirty,t["\u0275nov"](l,53).ngClassValid,t["\u0275nov"](l,53).ngClassInvalid,t["\u0275nov"](l,53).ngClassPending)})}function C(n){return t["\u0275vid"](0,[t["\u0275pid"](0,f.a,[]),(n()(),t["\u0275eld"](1,0,null,null,12,"ion-header",[["mode","ios"]],null,null,null,g.vb,g.s)),t["\u0275did"](2,49152,null,0,o.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](3,0,null,0,10,"ion-toolbar",[["mode","ios"]],null,null,null,g.fc,g.cb)),t["\u0275did"](4,49152,null,0,o.Eb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](5,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,g.jb,g.g)),t["\u0275did"](6,49152,null,0,o.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](7,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goBack()&&t),t},g.ib,g.f)),t["\u0275did"](8,49152,null,0,o.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](9,0,null,0,1,"ion-icon",[["mode","ios"],["name","arrow-back"]],null,null,null,g.wb,g.t)),t["\u0275did"](10,49152,null,0,o.E,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"],name:[1,"name"]},null),(n()(),t["\u0275eld"](11,0,null,0,2,"ion-title",[],null,null,null,g.dc,g.ab)),t["\u0275did"](12,49152,null,0,o.Cb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](-1,0,["\u4fee\u6539\u8d44\u6599"])),(n()(),t["\u0275eld"](14,0,null,null,4,"ion-content",[["padding",""]],null,null,null,g.rb,g.o)),t["\u0275did"](15,49152,null,0,o.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),t["\u0275did"](16,16384,null,0,o.f,[t.ElementRef],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,b)),t["\u0275did"](18,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,"ios"),n(l,4,0,"ios"),n(l,10,0,"ios","arrow-back"),n(l,18,0,e.userData)},null)}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-edmit-user",[],null,null,null,C,p)),t["\u0275did"](1,114688,null,0,r,[o.Kb,i.a,a.a,o.a,d.a],null,null)],function(n,l){n(l,1,0)},null)}var D=t["\u0275ccf"]("app-edmit-user",r,R,{},{},[]),y=e("iTUp"),E=e("ZYCi");e.d(l,"EdmitUserPageModuleNgFactory",function(){return N});var N=t["\u0275cmf"](s,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[c.a,D]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[t.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,m.t,m.t,[]),t["\u0275mpd"](4608,o.c,o.c,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,o.Jb,o.Jb,[o.c,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,o.Nb,o.Nb,[o.c,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),t["\u0275mpd"](1073742336,m.q,m.q,[]),t["\u0275mpd"](1073742336,m.d,m.d,[]),t["\u0275mpd"](1073742336,o.Gb,o.Gb,[]),t["\u0275mpd"](1073742336,y.a,y.a,[]),t["\u0275mpd"](1073742336,E.p,E.p,[[2,E.v],[2,E.n]]),t["\u0275mpd"](1073742336,s,s,[]),t["\u0275mpd"](1024,E.l,function(){return[[{path:"",component:r}]]},[])])})},"n/qi":function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.transform=function(n,l){return console.log(l),n?n.startsWith("http")||n.startsWith("data:image")||n.startsWith("file:///")||n.startsWith("cdvfile://")?n:n.startsWith("/mobile")&&l&&l.endsWith("mobile/")?l+n.substring(7):n.startsWith("./../")?l+n.substring(5):l+n:"../../assets/mrtx.jpg"},n}()}}]);