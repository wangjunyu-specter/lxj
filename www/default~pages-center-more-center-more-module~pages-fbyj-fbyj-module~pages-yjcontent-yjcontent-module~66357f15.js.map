{"version":3,"sources":["webpack:///./src/app/services/yjlist.service.ts"],"names":[],"mappings":"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","file":"default~pages-center-more-center-more-module~pages-fbyj-fbyj-module~pages-yjcontent-yjcontent-module~66357f15.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpService} from \"./http.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class YjlistService {\n  yjlist: any[];\n  gllist: any[];\n  zmlist: any[];\n  yjpageObj: any;\n  glpageObj: any;\n  zmpageObj: any;\n\n  constructor(private http: HttpService) {\n    this.clear();\n  }\n  clear() {\n    this.yjlist = [];\n    this.gllist = [];\n    this.zmlist = [];\n    this.yjpageObj = {\n      page: 1,\n      num: 20,\n      type: 1,\n      isall: false\n    };\n    this.glpageObj = {\n      page: 1,\n      num: 20,\n      type: 1,\n      isall: false\n    };\n    this.zmpageObj = {\n      page: 1,\n      num: 20,\n      type: 1,\n      isall: false\n    };\n  }\n  getPqone(id: string, type: number) {\n    let arr: any[];\n    if (type === 0) {\n      arr = this.yjlist;\n    } else if (type === 1) {\n      arr = this.gllist;\n    } else {\n      arr = this.zmlist;\n    }\n    for (let i = 0, j = arr.length; i < j; i++) {\n      if (arr[i].id === id) {\n        return arr[i];\n      }\n    }\n    return null;\n  }\n  editOne(id, type, data) {\n    let arr: any[];\n    if (type === 0) {\n      arr = this.yjlist;\n    } else if (type === 1) {\n      arr = this.gllist;\n    } else {\n      arr = this.zmlist;\n    }\n    for (let i = 0, j = arr.length; i < j; i++) {\n      if (arr[i].id === id) {\n        let obj = arr[i];\n        obj = Object.assign(obj, data);\n        arr.splice(i, 1, obj);\n        break;\n      }\n    }\n  }\n  addItem(type) {\n    // let arr: any[];\n    this.reset(type).then(res => {}).catch(err => {});\n\n    // if (type === 1) {\n    //   arr = this.yjlist;\n    // } else if (type === 2) {\n    //   arr = this.gllist;\n    // } else {\n    //   arr = this.zmlist;\n    // }\n    // arr.unshift(data);\n  }\n  deleteone(id: string, type: number) {\n    let arr: any[];\n    if (type === 0) {\n      arr = this.yjlist;\n    } else if (type === 1) {\n      arr = this.gllist;\n    } else {\n      arr = this.zmlist;\n    }\n    for (let i = 0, j = arr.length; i < j; i++) {\n      if (arr[i].id === id) {\n        arr.splice(i, 1);\n        break;\n      }\n    }\n  }\n  getyjList() {\n    if (this.yjlist.length === 0) {\n      this.getListhttp(1).then(res => {}).catch(err => {});\n    }\n    return this.yjlist;\n  }\n  getglList() {\n    if (this.gllist.length === 0) {\n      this.getListhttp(2).then(res => {}).catch(err => {});\n    }\n    return this.gllist;\n  }\n  getzmList() {\n    if (this.zmlist.length === 0) {\n      this.getListhttp(3).then(res => {}).catch(err => {});\n    }\n    return this.zmlist;\n  }\n  async reset(type) {\n    if (type == 1) {\n      this.yjpageObj.isall = false;\n      this.yjpageObj.page = 1;\n      try {\n        await this.getListhttp(1, 1);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    } else if (type == 2) {\n      this.glpageObj.isall = false;\n      this.glpageObj.page = 1;\n      try {\n        await this.getListhttp(2, 1);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    } else {\n      this.zmpageObj.isall = false;\n      this.zmpageObj.page = 1;\n      try {\n        await this.getListhttp(3, 1);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    }\n  }\n  async addList(type) {\n    if (type == 1) {\n      if (this.yjpageObj.isall) {\n        return false;\n      }\n      try {\n        await this.getListhttp(1);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    } else if (type == 2) {\n      if (this.glpageObj.isall) {\n        return false;\n      }\n      try {\n        await this.getListhttp(2);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    } else {\n      if (this.zmpageObj.isall) {\n        return false;\n      }\n      try {\n        await this.getListhttp(3);\n      } catch (err2) {\n        return false;\n      }\n      return true;\n    }\n  }\n  getListhttp(type: number, reset?) {\n    let obj: any;\n    switch (type) {\n      case 1:\n        obj = Object.assign({}, this.yjpageObj);\n        break;\n      case 2:\n        obj = Object.assign({}, this.glpageObj);\n        break;\n      case 3:\n        obj = Object.assign({}, this.zmpageObj);\n        break;\n    }\n    obj.type = type + 1;\n    return new Promise((resolve, reject) => {\n      this.http.getData(this.http.getpqlist, obj).subscribe(res => {\n        console.log(res);\n        console.log(res);\n        const data = res['result'];\n        switch (type) {\n          case 1:\n            if (reset) {\n              this.yjlist.length = 0;\n            }\n            this.yjlist.push(...data['result']);\n            if (!data['result'].length || data['result'].length < obj.num) {\n              this.yjpageObj.isall = true;\n            } else {\n              this.yjpageObj.page++;\n            }\n            break;\n          case 2:\n            if (reset) {\n              this.gllist.length = 0;\n            }\n            this.gllist.push(...data['result']);\n            if (!data['result'].length || data['result'].length < obj.num) {\n              this.glpageObj.isall = true;\n            } else {\n              this.glpageObj.page++;\n            }\n            break;\n          case 3:\n            if (reset) {\n              this.zmlist.length = 0;\n            }\n            this.zmlist.push(...data['result']);\n            if (!data['result'].length || data['result'].length < obj.num) {\n              this.zmpageObj.isall = true;\n            } else {\n              this.zmpageObj.page++;\n            }\n            break;\n        }\n        resolve(true)\n        // this.newGoods = data['new_goods'];\n      }, err => {\n        // alert(JSON.stringify(err))\n        console.log(err);\n        reject(false)\n\n      });\n    });\n  }\n}\n"],"sourceRoot":""}