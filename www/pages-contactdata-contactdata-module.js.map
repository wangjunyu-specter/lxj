{"version":3,"sources":["./src/app/pages/contactdata/contactdata.page.html","./src/app/pages/contactdata/contactdata.module.ts","./src/app/pages/contactdata/contactdata.page.scss","./src/app/pages/contactdata/contactdata.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,8zCAA+vC,kBAAkB,6YAA6Y,kBAAkB,2WAA2W,kBAAkB,gtB;;;;;;;;;;;;;;;;;;;;;;ACAnhE;AACM;AACF;AACU;AACV;AAEQ;AAErD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAe;KAC3B;CACF,CAAC;AAWF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QATjC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,iEAAe,CAAC;SAChC,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;ACxBlC;AAAe,sEAAO,kCAAkC,GAAG,6CAA6C,mf;;;;;;;;;;;;;;;;;;;;;;ACAtD;AACY;AACJ;AACX;AAC/C,uEAAuE;AACT;AACQ;AAMtE;IAOE,yBAAoB,GAAkB,EAAU,IAAiB,EAC7C,WAA2B,EAC3B,MAAqB,EACrB,WAA+B,EAAS,eAAgC;QAHxE,QAAG,GAAH,GAAG,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAa;QAC7C,gBAAW,GAAX,WAAW,CAAgB;QAC3B,WAAM,GAAN,MAAM,CAAe;QACrB,gBAAW,GAAX,WAAW,CAAoB;QAAS,oBAAe,GAAf,eAAe,CAAiB;IAAI,CAAC;IAEjG,kCAAQ,GAAR;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG;YACb,SAAS,EAAE,EAAE;YACb,GAAG,EAAE,EAAE;YACP,IAAI,EAAE,EAAE;YACR,QAAQ,EAAE,EAAE;YACZ,IAAI,EAAE,EAAE;YACR,QAAQ,EAAE,EAAE;YACZ,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,CAAC;SACX;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC;QACrD,IAAI,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtC,CAAC;IAED,yCAAe,GAAf;QAAA,iBAoBC;QAnBC,IAAI,IAAI,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAChD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAG;gBACxC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChB,IAAI,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE;oBACf,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;iBACjB;qBAAM;oBACL,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;iBACjB;gBACD,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC;gBAC/B,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC;gBACvB,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,WAAW,CAAC;gBAC/B,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC;YAC3B,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;SACrB;IAEH,CAAC;IACD,sCAAY,GAAZ,UAAa,IAAY,EAAE,EAAgB;QAA3C,iBAWC;QAX0B,6BAAgB;QACzC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAC,MAAM,EAAE,EAAE,EAAE,IAAI,QAAC,CAAC,CAAC,SAAS,CAAC,aAAG;YACpE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,IAAI,KAAK,CAAC,EAAE;gBACd,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;aACzC;iBAAM,IAAI,IAAI,KAAK,CAAC,EAAE;gBACrB,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;aAChC;iBAAM;gBACL,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;aAChC;QACH,CAAC,CAAC;IACJ,CAAC;IACD,kCAAQ,GAAR;QAAA,iBA2BC;QA1BC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QACzB,IAAM,MAAM,GAAG,aAAa,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC;YACvC,OAAO,KAAK,CAAC;SACd;QACD,IAAM,OAAO,GAAG,wEAAwE,CAAC;QACzF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACpC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,cAAc,CAAC;YACxC,OAAO,KAAK,CAAC;SACd;QACD,IAAM,GAAG,GAAQ,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YACf,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;SACtB;QACD,IAAI,GAAG,CAAC,OAAO,EAAE;YACf,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;SACjB;aAAM;YACL,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;SACjB;QACD,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,aAAG;YAC7E,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACnC,KAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,CAAC;IACJ,CAAC;IACD,gCAAM,GAAN;QACE,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IAClB,CAAC;IACK,sCAAY,GAAlB;;;;;;4BACgB,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,MAAM,EAAE,IAAI;4BACZ,OAAO,EAAE,OAAO;4BAChB,OAAO,EAAE,CAAE;oCACT,IAAI,EAAE,IAAI;oCACV,IAAI,EAAE,IAAI;oCACV,QAAQ,EAAE,WAAW;oCACrB,OAAO,EAAE,UAAC,IAAI;wCACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wCACpC,KAAI,CAAC,MAAM,EAAE,CAAC;oCAChB,CAAC;iCACF,CAAC;yBACH,CAAC;;wBAZI,KAAK,GAAG,SAYZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;;gBApGwB,4DAAa;gBAAgB,kEAAW;gBAChC,8DAAc;gBACnB,sEAAa;gBACR,gFAAkB;gBAA0B,8DAAe;;IAVjF,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,iOAAsC;;SAEvC,CAAC;+EAQyB,4DAAa,EAAgB,kEAAW;YAChC,8DAAc;YACnB,sEAAa;YACR,gFAAkB,EAA0B,8DAAe;OAVjF,eAAe,CA4G3B;IAAD,sBAAC;CAAA;AA5G2B","file":"pages-contactdata-contactdata-module.js","sourcesContent":["export default \"<ion-header mode=\\\"ios\\\">\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon mode=\\\"ios\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>添加出行人</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\n<ion-content padding>\\n  <form #userForm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n    <ion-list>\\n      <ion-item>\\n        <ion-input placeholder=\\\"请输入姓名\\\" required [(ngModel)]=\\\"dataObj.consignee\\\" name=\\\"consignee\\\" #consignee=\\\"ngModel\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"请输入有效手机号码\\\" required [(ngModel)]=\\\"dataObj.tel\\\" name=\\\"tel\\\" #tel=\\\"ngModel\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input placeholder=\\\"请输入18位身份证号码\\\" required [(ngModel)]=\\\"dataObj.card\\\" name=\\\"card\\\" #card=\\\"ngModel\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>省</ion-label>\\n        <ion-select placeholder=\\\"请选择省\\\" (ionChange)=\\\"selteaddress(2, dataObj.province)\\\" required [(ngModel)]=\\\"dataObj.province\\\" name=\\\"province\\\" cancelText=\\\"取消\\\" okText=\\\"确定\\\" #province=\\\"ngModel\\\">\\n          <ion-select-option *ngFor=\\\"let item of provincelist\\\" [value]=\\\"item.region_id\\\">{{item.region_name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>市</ion-label>\\n        <ion-select placeholder=\\\"请选择市\\\" (ionChange)=\\\"selteaddress(3, dataObj.city)\\\" required [(ngModel)]=\\\"dataObj.city\\\" name=\\\"city\\\" cancelText=\\\"取消\\\" okText=\\\"确定\\\" #city=\\\"ngModel\\\">\\n          <ion-select-option *ngFor=\\\"let item of citylist\\\" [value]=\\\"item.region_id\\\">{{item.region_name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>区</ion-label>\\n        <ion-select placeholder=\\\"请选择区\\\" required [(ngModel)]=\\\"dataObj.district\\\" name=\\\"district\\\" cancelText=\\\"取消\\\" okText=\\\"确定\\\" #district=\\\"ngModel\\\">\\n          <ion-select-option *ngFor=\\\"let item of arealist\\\" [value]=\\\"item.region_id\\\">{{item.region_name}}</ion-select-option>\\n        </ion-select>\\n\\n      </ion-item>\\n      <ion-item>\\n        <ion-textarea placeholder=\\\"详细地址：如道路、门牌号、小区、楼栋号、单元室等\\\" required [(ngModel)]=\\\"dataObj.address\\\" name=\\\"address\\\" #address=\\\"ngModel\\\"></ion-textarea>\\n      </ion-item>\\n    </ion-list>\\n    <ion-list>\\n      <ion-item>\\n        <ion-label>设为默认地址</ion-label>\\n        <ion-toggle color=\\\"success\\\" [(ngModel)]=\\\"dataObj.defalut\\\" name=\\\"defalut\\\"></ion-toggle>\\n      </ion-item>\\n    </ion-list>\\n    <ion-button color=\\\"success\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!userForm.form.valid\\\">提交</ion-button>\\n  </form>\\n  <p class=\\\"des\\\"><ion-text color=\\\"danger\\\">身份证号码错误会导致无法购买车票及保险</ion-text></p>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ContactdataPage } from './contactdata.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ContactdataPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ContactdataPage]\n})\nexport class ContactdataPageModule {}\n","export default \".des {\\n  font-size: var(--ion-sm-text);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93ankvRGVza3RvcC9seGovc3JjL2FwcC9wYWdlcy9jb250YWN0ZGF0YS9jb250YWN0ZGF0YS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NvbnRhY3RkYXRhL2NvbnRhY3RkYXRhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDZCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jb250YWN0ZGF0YS9jb250YWN0ZGF0YS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGVzIHtcclxuICBmb250LXNpemU6IHZhcigtLWlvbi1zbS10ZXh0KTtcclxufSIsIi5kZXMge1xuICBmb250LXNpemU6IHZhcigtLWlvbi1zbS10ZXh0KTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {AlertController, NavController} from \"@ionic/angular\";\nimport { HttpService } from '../../services/http.service';\nimport {ActivatedRoute} from \"@angular/router\";\n// import { ProvincesService } from '../../services/provinces.service';\nimport { NativeService } from '../../services/native.service';\nimport {ContactlistService} from \"../../services/contactlist.service\";\n@Component({\n  selector: 'app-contactdata',\n  templateUrl: './contactdata.page.html',\n  styleUrls: ['./contactdata.page.scss'],\n})\nexport class ContactdataPage implements OnInit {\n  id: string;\n  type: number;\n  provincelist: any[];\n  citylist: any[];\n  arealist: any[];\n  dataObj: any;\n  constructor(private nav: NavController, private http: HttpService,\n              private activeroute: ActivatedRoute,\n              private native: NativeService,\n              private contactlist: ContactlistService, public alertController: AlertController) { }\n\n  ngOnInit() {\n    this.provincelist = this.contactlist.getPro();\n    this.dataObj = {\n      consignee: '',\n      tel: '',\n      card: '',\n      province: '',\n      city: '',\n      district: '',\n      address: '',\n      defalut: 1\n    }\n    const params = this.activeroute.snapshot.queryParams;\n    this.id = (params['id']).toString();\n  }\n\n  ionViewDidEnter() {\n    if (this.id !== '0' && !this.dataObj['province']) {\n      this.contactlist.getItem(this.id).then(obj => {\n        console.log(obj)\n        if (obj.mr == 1) {\n          obj.defalut = 1;\n        } else {\n          obj.defalut = 0;\n        }\n        obj.province = obj.province_id;\n        obj.city = obj.city_id;\n        obj.district = obj.district_id;\n        this.dataObj = obj;\n        console.log(this.dataObj)\n      });\n    }\n    if (this.provincelist.length === 0) {\n      this.selteaddress(1)\n    }\n\n  }\n  selteaddress(type: number, id: string = '1') {\n    this.http.getData(this.http.getcity, {parent: id, type}).subscribe(res => {\n      console.log(res);\n      if (type === 1) {\n        this.contactlist.setPro(res['regions']);\n      } else if (type === 2) {\n        this.citylist = res['regions'];\n      } else {\n        this.arealist = res['regions'];\n      }\n    })\n  }\n  onSubmit() {\n    console.log(this.dataObj)\n    const telpag = /^1(\\d){10}$/;\n    if (!telpag.test(this.dataObj.tel)) {\n      console.log('验证失败')\n      this.native.presentAlert('请输入正确的手机号码!')\n      return false;\n    }\n    const cardneg = /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[12])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i;\n    if (!cardneg.test(this.dataObj.card)) {\n      console.log('验证失败')\n      this.native.presentAlert('请输入18位身份证号码!')\n      return false;\n    }\n    const obj: any = Object.assign({}, this.dataObj);\n    if (!obj.mobile) {\n      obj.mobile = obj.tel;\n    }\n    if (obj.defalut) {\n      obj.defalut = 1;\n    } else {\n      obj.defalut = 0;\n    }\n    this.http.postformdataloading(this.http.editorupdateaddress, obj).subscribe(res => {\n      this.contactlist.edmit(res.result);\n      this.presentAlert();\n    })\n  }\n  goBack(): void {\n    this.nav.back();\n  }\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      header: '提示',\n      message: '操作成功.',\n      buttons: [ {\n        text: '确定',\n        role: '确定',\n        cssClass: 'secondary',\n        handler: (blah) => {\n          console.log('Confirm Cancel: blah');\n          this.goBack();\n        }\n      }]\n    });\n    await alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}